function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{zwdw:function(t,e,i){"use strict";i.r(e);var n,o,c,s,a,r,l,d,b,u,p,h,f,g,v,S,y=i("ofXK"),m=i("1kSV"),O=i("3Pt+"),R=i("tyNb"),k=i("o+qO"),A=i("fXoL"),I=((n=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:n}),n.\u0275inj=A.Jb({factory:function(t){return new(t||n)},providers:[],imports:[[y.c,k.a,O.i,R.f]]}),n),C=i("II9H"),w=i("nD3/"),_=i("1pjZ"),j=((o=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/ads/load",getinfo:n+"api/ads/getinfo",action:n+"api/ads/action",proc:n+"api/ads/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!1,showcheckAll:!0,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Adult",ismultiple:!1,icon:"",value:1,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0},{title:"Non Adult",ismultiple:!1,icon:"",value:0,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0}),this.toolbarOptions.right_options.push({title:"Order",ismultiple:!0,position:"right",icon:"icon-sort-by-order-alt position-left",Options:[{id:"0",title:"ID",value:"id",isclick:!0,clickevent:"orderby",tooltip:"Order by id"},{id:"1",title:"Type",value:"type",isclick:!0,clickevent:"orderby",tooltip:"Order by type"}]})}},{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,navList:this.coreService.getSettingsNavList(),actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}()).\u0275fac=function(t){return new(t||o)(A.ac(w.a),A.ac(_.a))},o.\u0275prov=A.Ib({token:o,factory:o.\u0275fac}),o),G=i("tk/3"),z=i("DoUi"),x=i("LEd3"),M=((s=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}()).\u0275fac=function(t){return new(t||s)(A.ac(j),A.ac(G.b),A.ac(z.a),A.ac(x.a))},s.\u0275prov=A.Ib({token:s,factory:s.\u0275fac}),s),$=((c=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:c}),c.\u0275inj=A.Jb({factory:function(t){return new(t||c)},providers:[j,M,z.a],imports:[[y.c,k.a,O.i]]}),c),L=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/ip/load",getinfo:n+"api/ip/getinfo",action:n+"api/ip/action",proc:n+"api/ip/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Add",tooltip:"Block new ip adress",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,ipaddress:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),N=i("OMwW"),F=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(L),A.ac(G.b),A.ac(N.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),P=((a=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:a}),a.\u0275inj=A.Jb({factory:function(t){return new(t||a)},providers:[L,F,N.a],imports:[[y.c,k.a,O.i]]}),a),T=i("mrSG"),D=i("Usal"),E=function(){var t=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.coreService=e,this.config=i,this.Configs={};var o=i.getConfig("host");this.apiOptions={load:o+"api/categories/load",load_dropdown:o+"api/categories/load_dropdown",getinfo:o+"api/categories/getinfo",action:o+"api/categories/action",proc:o+"api/categories/proc"},this.configs$.subscribe((function(t){void 0!==t.general&&(console.log("configs defined"),n.Configs=t.general.category,n.init_toolbar_options(),n.init_search_options())}))}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}},{key:"initialize_actions",value:function(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});var t=[];for(var e in this.Configs)t.push({id:this.Configs[e],title:e});for(var i=0,n=t;i<n.length;i++){var o=n[i];this.toolbarOptions.left_options[0].Options.push({id:"0",title:o.title,value:o.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+o.title+" templates"})}this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),Object(T.a)([Object(D.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t}(),V=i("t+rW"),U=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"LoadDropdownCategories",value:function(t){var e=this,i=this.settings.getApiOptions().load_dropdown;this.http.post(i,{type:t}).subscribe((function(t){e.actions.loadDropdownCategories(t)}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(E),A.ac(G.b),A.ac(V.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),J=((r=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:r}),r.\u0275inj=A.Jb({factory:function(t){return new(t||r)},providers:[E,U,V.a],imports:[[y.c,k.a,O.i,R.f]]}),r),H=i("dNLF"),B=((d=function(){function t(e,i){_classCallCheck(this,t),this.config=e,this.coreService=i}return _createClass(t,[{key:"getControls",value:function(t,e,i){var n=[];n.push(new H.g({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),n.push(new H.g({key:"term",label:"Term",value:t.term,minLength:3,maxLength:150,order:2}));var o=[];for(var c in i)o.push({key:i[c].toString(),value:c});n.push(new H.b({key:"type",label:"Select Type",required:!0,value:t.type.toString(),options:o,order:3})),n.push(new H.b({key:"parentid",label:"Select Parent",required:!0,value:t.parentid.toString(),options:[],order:4})),n.push(new H.g({key:"priority",label:"Priority",value:t.priority.toString(),minLength:3,maxLength:150,order:5})),n.push(new H.h({key:"description",label:"Description",value:t.description,tinymiceOptions:this.coreService.prepareInitEditorSettings(),required:!1,order:6})),n.push(new H.b({key:"isenabled",label:"Select Status",required:!0,value:t.isenabled.toString(),options:[{key:"1",value:"Public"},{key:"0",value:"Private"}],order:7})),n.push(new H.g({key:"icon",label:"Icon",value:t.icon,minLength:1,maxLength:100,order:8,helpblock:"Place font-awsome icon to display with selected category"}));var s={cropped_picture:t.picturename,croptype:1,upload_id:"cover_upload",colcss:"col-md-8",settings:{width:e.category_thumbnail_width,height:e.category_thumbnail_height},uploadbtntext:"Upload Image",btncss:"btn btn-success"};return n.push(new H.c({key:"picturename",label:"",value:t.picturename,required:!1,cropperOptions:s,helpblock:"Cropsize: "+s.settings.width+"x"+s.settings.height,order:9})),n.sort((function(t,e){return t.order-e.order}))}}]),t}()).\u0275fac=function(t){return new(t||d)(A.ac(_.a),A.ac(w.a))},d.\u0275prov=A.Ib({token:d,factory:d.\u0275fac}),d),K=((l=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:l}),l.\u0275inj=A.Jb({factory:function(t){return new(t||l)},providers:[E,U,B,V.a],imports:[[y.c,k.a,O.i]]}),l),q=i("noRM"),Y=i("aRip"),W=i("Pfcf"),X=i("nT4z"),Q=((b=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:b}),b.\u0275inj=A.Jb({factory:function(t){return new(t||b)},providers:[q.a,Y.a,W.a,X.a],imports:[[y.c,k.a,O.i]]}),b),Z=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/dictionary/load",getinfo:n+"api/dictionary/getinfo",action:n+"api/dictionary/action",proc:n+"api/dictionary/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[{id:1,value:2,group:"type",caption:"Type",attr:"type",options:[{id:4,title:"Screening Word",value:0},{id:5,title:"Restricted Usernams",value:1}]}],categories:[],selectedcategory:"",singleaction:!0,actions:this.init_actions()}}},{key:"init_actions",value:function(){return[{id:1,title:"Add Value",tooltip:"Add new value in dictionary",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,value:"",type:0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),tt=i("6Trk"),et=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this;console.log("filter options >>>>"),console.log(t);var i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(Z),A.ac(G.b),A.ac(tt.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),it=((u=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:u}),u.\u0275inj=A.Jb({factory:function(t){return new(t||u)},providers:[Z,et,tt.a],imports:[[y.c,k.a,O.i]]}),u),nt=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load_roles:n+"api/role/load",load_objects:n+"api/roleobject/load",getinfo:n+"api/role/getinfo",add_role:n+"api/role/proc",add_object:n+"api/roleobject/proc",delete_role:n+"api/role/action",delete_object:n+"api/roleobject/action",update_permission:n+"api/rolepermission/proc"},this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitRoleObject",value:function(){return{id:0,rolename:""}}},{key:"getInitRoleObjectObject",value:function(){return{id:0,objectname:"",description:"",uniqueid:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),ot=i("JgvU"),ct=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRoles",value:function(){var t=this,e=this.settings.getApiOptions().load_roles;this.actions.loadStarted(),this.http.post(e,{}).subscribe((function(e){t.actions.loadSucceeded(e)}),(function(e){t.actions.loadFailed(e)}))}},{key:"LoadObjects",value:function(){var t=this,e=this.settings.getApiOptions().load_objects;this.actions.loadObjectStarted(),this.http.post(e,{}).subscribe((function(e){t.actions.loadObjectSucceeded(e)}),(function(e){t.actions.loadObjectFailed(e)}))}},{key:"AddRole",value:function(t){var e=this;console.log(this.settings.getApiOptions().add_role),this.http.post(this.settings.getApiOptions().add_role,JSON.stringify(t)).subscribe((function(t){e.actions.addRole(t.record)}),(function(t){e.actions.loadObjectFailed(t)}))}},{key:"AddObject",value:function(t){var e=this;this.http.post(this.settings.getApiOptions().add_object,JSON.stringify(t)).subscribe((function(i){t.id>0?e.actions.updateObject(i.record):e.actions.addObject(i.record)}),(function(t){e.actions.loadObjectFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}},{key:"UpdatePermission",value:function(t){var e=this.settings.getApiOptions().update_permission;return this.http.post(e,JSON.stringify(t))}},{key:"DeleteRecord",value:function(t,e,i,n){t.actionstatus="delete";var o=[];o.push(t),this.ProcessActions(o,"delete",i,n)}},{key:"ProcessActions",value:function(t,e,i,n){var o=this;1===n?this.actions.applyRoleChanges({SelectedItems:t,isenabled:e}):this.actions.applyObjectChanges({SelectedItems:t,isenabled:e}),this.http.post(i,JSON.stringify(t)).subscribe((function(t){var i="Operation Performed";"delete"===e&&(i="Record Removed"),o.coreActions.Notify({title:i,text:"",css:"bg-success"})}),(function(t){o.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(nt),A.ac(G.b),A.ac(ot.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),st=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getRoleControls",value:function(t){var e=[];return e.push(new H.g({key:"rolename",label:"Role Name",value:t.rolename,required:!0,order:0,maxLength:100,placeholder:"Enter Role Name"})),e.sort((function(t,e){return t.order-e.order}))}},{key:"getObjectControls",value:function(t){var e=[];return e.push(new H.g({key:"objectname",label:"Object Name",value:t.objectname,required:!0,order:0,maxLength:100,placeholder:"Enter Object Name"})),e.push(new H.f({key:"description",label:"Description",value:t.description,order:1,maxLength:1e3,placeholder:"Enter Short Description (Optional)"})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),at=((p=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:p}),p.\u0275inj=A.Jb({factory:function(t){return new(t||p)},providers:[nt,ct,st,ot.a],imports:[[y.c,k.a,O.i,R.f]]}),p),rt=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/languages/load",getinfo:n+"api/languages/getinfo",action:n+"api/languages/action",proc:n+"api/languages/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!1,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),lt=i("dmcs"),dt=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){i.coreActions.Notify({title:"Operation Performed",text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(rt),A.ac(G.b),A.ac(lt.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),bt=((h=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:h}),h.\u0275inj=A.Jb({factory:function(t){return new(t||h)},providers:[rt,dt,lt.a],imports:[[y.c,k.a,O.i]]}),h),ut=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/log/load",getinfo:n+"api/log/getinfo",action:n+"api/log/action",proc:n+"api/log/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Delete All",tooltip:"Delete all logs",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-danger",event:"deleteall"}]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),pt=i("TgGP"),ht=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}},{key:"DeleteAllRecords",value:function(){var t=this;this.actions.removeAllRecords(),this.coreActions.refreshListStats({totalrecords:0,pagesize:20,pagenumber:1}),this.http.post(this.settings.getApiOptions().action,JSON.stringify([{id:1,actionstatus:"deleteall"}])).subscribe((function(e){t.coreActions.Notify({title:"Logs cleared out",text:"",css:"bg-success"})}),(function(e){t.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(ut),A.ac(G.b),A.ac(pt.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),ft=((f=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:f}),f.\u0275inj=A.Jb({factory:function(t){return new(t||f)},providers:[ut,ht,pt.a],imports:[[y.c,k.a,O.i]]}),f),gt=function(){var t=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.coreService=e,this.config=i,this.Configs={};var o=i.getConfig("host");this.apiOptions={load:o+"api/mailtemplates/load",getinfo:o+"api/mailtemplates/getinfo",action:o+"api/mailtemplates/action",proc:o+"api/mailtemplates/proc"},this.configs$.subscribe((function(t){void 0!==t.general&&(console.log("configs defined"),n.Configs=t.general.mailtemplates,n.init_toolbar_options(),n.init_search_options())}))}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}},{key:"initialize_actions",value:function(){return[{id:1,title:"Add Template",tooltip:"Add new mail template",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});var t=[];for(var e in this.Configs)t.push({value:this.Configs[e],title:e});for(var i=0,n=t;i<n.length;i++){var o=n[i];this.toolbarOptions.left_options[0].Options.push({id:"0",title:o.title,value:o.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+o.title+" templates"})}this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,templatekey:"",description:"",subjecttags:"",subject:"",tags:"",contents:"",type:"0"}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a),A.ac(_.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),Object(T.a)([Object(D.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t}(),vt=i("GrDw"),St=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(gt),A.ac(G.b),A.ac(vt.a),A.ac(x.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),yt=((S=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:S}),S.\u0275inj=A.Jb({factory:function(t){return new(t||S)},providers:[gt,St,vt.a],imports:[[y.c,k.a,O.i,R.f]]}),S),mt=function(){var t=function(){function t(e){_classCallCheck(this,t),this.coreService=e}return _createClass(t,[{key:"getControls",value:function(t,e){var i=[],n=!1;t.id>0&&(n=!0),i.push(new H.g({key:"templatekey",label:"Template Key",value:t.templatekey,required:!0,minLength:3,maxLength:25,order:1,disabled:n,helpblock:"Unique key used to fetch mail template within site events. e.g REGUSER for user regiration"})),i.push(new H.f({key:"description",label:"Description",value:t.description,required:!0,helpblock:"A block of help text that breaks onto a new line and may extend beyond one line.",order:2})),i.push(new H.g({key:"subjecttags",label:"Subject Tags",value:t.subjecttags,required:!0,order:3,maxLength:100,helpblock:"Enter subject tags for informative purpose e.g [username], [email], that may be used in template subject for dynamic text processing"})),i.push(new H.g({key:"subject",label:"Subject",value:t.subject,required:!0,maxLength:150,order:4})),i.push(new H.g({key:"tags",label:"Content Tags",value:t.tags,required:!0,order:5,maxLength:100,helpblock:"Enter tags for informative purpose e.g [username], [email], that may be used in template body for dynamic text processing"})),i.push(new H.h({key:"contents",label:"Contents",value:t.contents,tinymiceOptions:this.coreService.prepareInitAdvacneEditorSettings(),required:!0,order:6}));var o=[];for(var c in e)o.push({key:e[c].toString(),value:c});return i.push(new H.b({key:"type",label:"Type",value:t.type,options:o,order:7})),i.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.ac(w.a))},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),Ot=((v=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:v}),v.\u0275inj=A.Jb({factory:function(t){return new(t||v)},providers:[gt,St,mt,vt.a],imports:[[y.c,k.a,O.i]]}),v),Rt=((g=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||g)},g.\u0275cmp=A.Gb({type:g,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&A.Nb(0,"router-outlet")},directives:[R.g],encapsulation:2}),g),kt=i("Hjmt");function At(t,e){if(1&t&&A.Nb(0,"i"),2&t){var i=A.gc().$implicit;A.Bb(i.css)}}function It(t,e){if(1&t&&(A.Sb(0,"li",8),A.Sb(1,"a",9),A.Ec(2,At,1,3,"i",10),A.Gc(3),A.Rb(),A.Rb()),2&t){var i=e.$implicit;A.zb(1),A.oc("routerLink",i.url),A.oc("title",i.title),A.zb(1),A.nc("ngIf",""!=i.css),A.zb(1),A.Ic(" ",i.title," ")}}var Ct,wt=((Ct=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.permission=i,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.NavList=this.coreService.getSettingsNavList()}}]),t}()).\u0275fac=function(t){return new(t||Ct)(A.Mb(w.a),A.Mb(kt.a))},Ct.\u0275cmp=A.Gb({type:Ct,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"col-xlg-4","col-lg-6","col-md-6"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],[1,"col-xlg-8","col-lg-6","col-md-6"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Sb(3,"div",0),A.Sb(4,"div",3),A.Sb(5,"div",4),A.Sb(6,"ul",5),A.Ec(7,It,4,4,"li",6),A.Rb(),A.Rb(),A.Rb(),A.Nb(8,"div",7),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(7),A.nc("ngForOf",e.NavList))},directives:[y.m,R.d,R.e,y.n],encapsulation:2}),Object(T.a)([Object(D.e)(["users","auth"])],Ct.prototype,"auth$",void 0),Ct),_t=i("/H0e"),jt=i("4HLj"),Gt=i("QxdJ"),zt=i("cScK"),xt=i("RDfn");function Mt(t,e){1&t&&A.Nb(0,"app-loader")}function $t(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",13),A.Sb(2,"div",14),A.Sb(3,"div"),A.Sb(4,"strong",15),A.Gc(5),A.Rb(),A.Nb(6,"br"),A.Sb(7,"textarea",16),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc().$implicit.adscript=t})),A.Rb(),A.Rb(),A.Sb(8,"div",17),A.Sb(9,"button",18),A.ec("click",(function(){A.xc(i);var t=A.gc().$implicit;return A.gc(3)._UpdateRecord(t)})),A.Gc(10," Save "),A.Rb(),A.Sb(11,"button",19),A.ec("click",(function(t){A.xc(i);var e=A.gc().$implicit;return A.gc(3).toggleEditView(e,t)})),A.Gc(12," Cancel "),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc().$implicit;A.zb(5),A.Hc(n.name),A.zb(2),A.nc("ngModel",n.adscript)}}function Lt(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"a",20),A.ec("click",(function(t){A.xc(i);var e=A.gc().$implicit;return A.gc(3).toggleEditView(e,t),!1})),A.Gc(2),A.Rb(),A.Rb()}if(2&t){var n=A.gc().$implicit;A.zb(2),A.Hc(n.name)}}function Nt(t,e){1&t&&(A.Sb(0,"span",21),A.Gc(1,"Adult"),A.Rb())}function Ft(t,e){1&t&&(A.Sb(0,"span",22),A.Gc(1,"Non Adult"),A.Rb())}function Pt(t,e){if(1&t&&(A.Sb(0,"tr"),A.Sb(1,"td",9),A.Ec(2,$t,13,2,"div",0),A.Ec(3,Lt,3,1,"div",0),A.Rb(),A.Sb(4,"td",10),A.Ec(5,Nt,2,0,"span",11),A.Ec(6,Ft,2,0,"span",12),A.Rb(),A.Rb()),2&t){var i=e.$implicit;A.zb(2),A.nc("ngIf",i.editview),A.zb(1),A.nc("ngIf",!i.editview),A.zb(2),A.nc("ngIf",1==i.type),A.zb(1),A.nc("ngIf",0==i.type)}}function Tt(t,e){if(1&t&&(A.Sb(0,"div",6),A.Sb(1,"table",7),A.Sb(2,"thead"),A.Sb(3,"tr"),A.Sb(4,"th"),A.Gc(5,"Title"),A.Rb(),A.Sb(6,"th"),A.Gc(7,"Type"),A.Rb(),A.Rb(),A.Rb(),A.Sb(8,"tbody"),A.Ec(9,Pt,7,4,"tr",8),A.hc(10,"async"),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc(2);A.zb(9),A.nc("ngForOf",A.ic(10,2,i.Data$))("ngForTrackBy",i.getKey)}}function Dt(t,e){1&t&&(A.Sb(0,"div",23),A.Sb(1,"div",24),A.Sb(2,"div",25),A.Sb(3,"h3",26),A.Gc(4,"No Records Found!"),A.Rb(),A.Rb(),A.Rb(),A.Rb())}function Et(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,Tt,11,4,"div",4),A.hc(2,"async"),A.Ec(3,Dt,5,0,"div",5),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0==A.ic(4,4,i.Data$).length)}}var Vt,Ut=((Vt=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.dataService=i,this.coreActions=n,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}()).\u0275fac=function(t){return new(t||Vt)(A.Mb(z.a),A.Mb(M),A.Mb(x.a))},Vt.\u0275cmp=A.Gb({type:Vt,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},decls:11,vars:15,consts:[[4,"ngIf"],[2,"padding","15px 10px"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],["class","row row-wrap",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-wrap"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"width","80%"],[2,"width","20%"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"m-b-3"],["rows","4","placeholder","enter script here",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["href","",3,"click"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[1,"row"],[1,"col-md-12"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(A.Ec(0,Mt,1,0,"app-loader",0),A.hc(1,"async"),A.Sb(2,"div",1),A.Nb(3,"alert"),A.Ec(4,Et,5,6,"div",0),A.hc(5,"async"),A.Rb(),A.Sb(6,"div",2),A.Sb(7,"pagination",3),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(8,"async"),A.hc(9,"async"),A.hc(10,"async"),A.Rb(),A.Rb()),2&t&&(A.nc("ngIf",A.ic(1,5,e.loading$)),A.zb(4),A.nc("ngIf",!A.ic(5,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(8,9,e.pagination$).currentPage)("totalRecords",A.ic(9,11,e.pagination$).totalRecords)("pageSize",A.ic(10,13,e.pagination$).pageSize))},directives:[y.n,Gt.a,zt.a,xt.a,y.m,O.c,O.n,O.q],pipes:[y.b],encapsulation:2}),Object(T.a)([Object(D.e)(["advertisement","posts"])],Vt.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["advertisement","loading"])],Vt.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["advertisement","pagination"])],Vt.prototype,"pagination$",void 0),Vt);function Jt(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function Ht(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",0),A.Sb(2,"div",5),A.Sb(3,"app-navigation-v2",6),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",7),A.Sb(5,"app-toolbar-v2",8),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",9),A.Sb(7,"app-list",10),A.ec("View",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("isActionGranded",n.isActionGranded)}}var Bt,Kt,qt=((Bt=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.permission=n,this.actions=o,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.isloaded$.subscribe((function(e){e||t.dataService.LoadRecords(t.FilterOptions)}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"f_type":this.actions.applyFilter({attr:"type",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}}]),t}()).\u0275fac=function(t){return new(t||Bt)(A.Mb(j),A.Mb(M),A.Mb(kt.a),A.Mb(z.a))},Bt.\u0275cmp=A.Gb({type:Bt,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,Jt,3,0,"div",3),A.Ec(4,Ht,8,5,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,Ut],encapsulation:2}),Object(T.a)([Object(D.e)(["advertisement","filteroptions"])],Bt.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["advertisement","categories"])],Bt.prototype,"categories$",void 0),Object(T.a)([Object(D.e)(["advertisement","isloaded"])],Bt.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Bt.prototype,"auth$",void 0),Bt),Yt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getControls",value:function(t){var e=[];return e.push(new H.g({key:"ipaddress",label:"IP Address",value:t.ipaddress,required:!0,minLength:5,maxLength:40,order:1})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),Wt=i("+kG/"),Xt=((Kt=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.service=i,this.dataService=n,this.coreActions=o,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data)}},{key:"SubmitForm",value:function(t){var e=this;void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.showLoader=!0,this.dataService.AddRecord(t).subscribe((function(i){e.showLoader=!1,e.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),e.activeModal.close({data:t})}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}()).\u0275fac=function(t){return new(t||Kt)(A.Mb(m.a),A.Mb(Yt),A.Mb(F),A.Mb(x.a))},Kt.\u0275cmp=A.Gb({type:Kt,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[A.yb([Yt,F])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"h4",1),A.Gc(2),A.Rb(),A.Sb(3,"button",2),A.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),A.Sb(4,"span",3),A.Gc(5,"\xd7"),A.Rb(),A.Rb(),A.Rb(),A.Sb(6,"dynamic-modal-form",4),A.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),A.Rb()),2&t&&(A.zb(2),A.Hc(e.title),A.zb(4),A.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Wt.a],encapsulation:2}),Kt),Qt=i("pdjO"),Zt=i("R0Ic"),te=i("aIzJ");function ee(t,e){1&t&&A.Nb(0,"app-loader")}function ie(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",21),A.Sb(2,"div",22),A.Sb(3,"div"),A.Sb(4,"input",23),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc().$implicit.ipaddress=t})),A.Rb(),A.Rb(),A.Sb(5,"div",24),A.Sb(6,"button",25),A.ec("click",(function(){A.xc(i);var t=A.gc().$implicit;return A.gc(3)._UpdateRecord(t)})),A.Gc(7," Save "),A.Rb(),A.Sb(8,"button",26),A.ec("click",(function(t){A.xc(i);var e=A.gc().$implicit;return A.gc(3).toggleEditView(e,t)})),A.Gc(9," Cancel "),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc().$implicit;A.zb(4),A.nc("ngModel",n.ipaddress)}}function ne(t,e){if(1&t&&(A.Sb(0,"div"),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Ic(" ",i.ipaddress," ")}}function oe(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",11),A.Sb(1,"td",12),A.Sb(2,"div",5),A.Sb(3,"input",13),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).checkChange()})),A.Rb(),A.Nb(4,"label",14),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Ec(6,ie,10,1,"div",0),A.Ec(7,ne,2,1,"div",0),A.Rb(),A.Sb(8,"td"),A.Sb(9,"span",15),A.Nb(10,"i",16),A.Rb(),A.Gc(11),A.hc(12,"date"),A.Rb(),A.Sb(13,"td",9),A.Sb(14,"a",17),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(3).toggleEditView(n,t),!1})),A.Nb(15,"i",18),A.Rb(),A.Sb(16,"a",19),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(3).delete(n,o,t),!1})),A.Nb(17,"i",20),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(3),A.oc("id",n.id),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",n.id),A.zb(2),A.nc("ngIf",n.editview),A.zb(1),A.nc("ngIf",!n.editview),A.zb(4),A.Ic(" ",A.jc(12,8,n.created_at,"fullDate")," ")}}function ce(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th"),A.Sb(6,"div",5),A.Sb(7,"input",6),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(2).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(2).processChange()})),A.Rb(),A.Nb(8,"label",7),A.Rb(),A.Rb(),A.Sb(9,"th"),A.Sb(10,"span",8),A.Gc(11,"IP Address"),A.Rb(),A.Rb(),A.Sb(12,"th"),A.Sb(13,"span",8),A.Gc(14,"Date"),A.Rb(),A.Rb(),A.Sb(15,"th",9),A.Gc(16," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(17,"tbody"),A.Ec(18,oe,18,11,"tr",10),A.hc(19,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(7),A.nc("ngModel",n.selectall),A.zb(11),A.nc("ngForOf",A.ic(19,3,n.Data$))("ngForTrackBy",n.getKey)}}function se(t,e){1&t&&A.Nb(0,"app-norecord")}function ae(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,ce,20,5,"div",0),A.hc(2,"async"),A.Ec(3,se,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var re=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.dataService=i,this.coreActions=n,this.isActionGranded=!1,this.selectall=!1,this.SelectedItems=new A.n,this.View=new A.n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"getKey",value:function(t,e){return e.id}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(N.a),A.Mb(F),A.Mb(x.a))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{SelectedItems:"SelectedItems",View:"View"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"m-r-5"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update IP Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,ee,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,ae,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,O.a,O.n,O.q,y.m,O.c,te.a],pipes:[y.b,y.e],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["blockip","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["blockip","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["blockip","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["blockip","selectall"])],t.prototype,"selectAll$",void 0),t}();function le(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function de(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",0),A.Sb(2,"div",5),A.Sb(3,"app-navigation-v2",6),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",7),A.Sb(5,"app-toolbar-v2",8),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",9),A.Sb(7,"app-list",10),A.ec("View",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SelectedItems",(function(t){return A.xc(i),A.gc().getSelectedItems(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("isActionGranded",n.isActionGranded)}}var be,ue=((be=function(){function t(e,i,n,o,c,s){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.permission=o,this.coreActions=c,this.actions=s,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Block IP",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){var t=this,e=this.modalService.open(Xt,{backdrop:!1});e.componentInstance.Info={title:"Block IP Address",data:this.settingService.getInitObject()},e.result.then((function(e){t.actions.addRecord({id:0,ipaddress:e.data.ipaddress,created_at:new Date})}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t;var e=!1;this.SelectedItems.length>0&&(e=!0),this.actions.updateItemsSelectionStatus(e),console.log("items selected"),console.log(this.SelectedItems)}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||be)(A.Mb(L),A.Mb(F),A.Mb(m.b),A.Mb(kt.a),A.Mb(x.a),A.Mb(N.a))},be.\u0275cmp=A.Gb({type:be,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,le,3,0,"div",3),A.Ec(4,de,8,5,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,re],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["blockip","filteroptions"])],be.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["blockip","itemsselected"])],be.prototype,"isItemSelected$",void 0),Object(T.a)([Object(D.e)(["blockip","isloaded"])],be.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["blockip","records"])],be.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["blockip","pagination"])],be.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],be.prototype,"auth$",void 0),be);function pe(t,e){1&t&&A.Nb(0,"app-loader")}function he(t,e){if(1&t&&A.Nb(0,"i"),2&t){var i=A.gc().$implicit;A.Bb(i.icon)}}function fe(t,e){if(1&t&&(A.Sb(0,"span"),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Hc(i.title)}}function ge(t,e){if(1&t&&(A.Sb(0,"span"),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Hc(i.term)}}function ve(t,e){if(1&t&&(A.Sb(0,"span",25),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Hc(i.title)}}function Se(t,e){if(1&t&&(A.Sb(0,"span"),A.Ec(1,ve,2,1,"span",17),A.Rb()),2&t){var i=e.$implicit,n=A.gc().$implicit;A.zb(1),A.nc("ngIf",n.type===i.id)}}function ye(t,e){1&t&&(A.Sb(0,"span",26),A.Gc(1,"Normal"),A.Rb())}function me(t,e){1&t&&(A.Sb(0,"span",26),A.Gc(1,"Active"),A.Rb())}function Oe(t,e){1&t&&(A.Sb(0,"span",25),A.Gc(1,"Inactive"),A.Rb())}var Re=function(t){return[t]};function ke(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",9),A.Sb(1,"td",10),A.Sb(2,"div",5),A.Sb(3,"input",11),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).checkChange()})),A.Rb(),A.Nb(4,"label",12),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Gc(6),A.Rb(),A.Sb(7,"td"),A.Ec(8,he,1,3,"i",13),A.Gc(9),A.Sb(10,"a",14),A.Gc(11),A.Rb(),A.Rb(),A.Sb(12,"td"),A.Ec(13,fe,2,1,"span",0),A.Ec(14,ge,2,1,"span",0),A.Rb(),A.Sb(15,"td"),A.Ec(16,Se,2,1,"span",15),A.Rb(),A.Sb(17,"td"),A.Ec(18,ye,2,0,"span",16),A.Rb(),A.Sb(19,"td"),A.Ec(20,me,2,0,"span",16),A.Ec(21,Oe,2,0,"span",17),A.Rb(),A.Sb(22,"td",18),A.Sb(23,"a",19),A.Nb(24,"i",20),A.Rb(),A.Sb(25,"a",21),A.Nb(26,"i",22),A.Rb(),A.Sb(27,"a",23),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(3).delete(n,o,t),!1})),A.Nb(28,"i",24),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit,o=A.gc(3);A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(3),A.oc("id",n.id),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",n.id),A.zb(2),A.Ic(" ",n.id," "),A.zb(2),A.nc("ngIf",""!=n.icon),A.zb(1),A.Ic(" ",n.clevel," "),A.zb(1),A.nc("routerLink",A.rc(18,Re,"/settings/categories/process/"+n.id)),A.zb(1),A.Hc(n.title),A.zb(2),A.nc("ngIf",""==n.term),A.zb(1),A.nc("ngIf",""!=n.term),A.zb(2),A.nc("ngForOf",o.category_types),A.zb(2),A.nc("ngIf",0==n.mode),A.zb(2),A.nc("ngIf",1==n.isenabled),A.zb(1),A.nc("ngIf",0==n.isenabled),A.zb(2),A.nc("routerLink",A.rc(20,Re,"/settings/categories/process/add/"+n.id)),A.zb(2),A.nc("routerLink",A.rc(22,Re,"/settings/categories/process/"+n.id))}}function Ae(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th"),A.Sb(6,"div",5),A.Sb(7,"input",6),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(2).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(2).processChange()})),A.Rb(),A.Nb(8,"label",7),A.Rb(),A.Rb(),A.Sb(9,"th"),A.Gc(10,"ID"),A.Rb(),A.Sb(11,"th"),A.Gc(12,"Name"),A.Rb(),A.Sb(13,"th"),A.Gc(14,"Term"),A.Rb(),A.Sb(15,"th"),A.Gc(16,"Type"),A.Rb(),A.Sb(17,"th"),A.Gc(18,"Mode"),A.Rb(),A.Sb(19,"th"),A.Gc(20,"Status"),A.Rb(),A.Sb(21,"th"),A.Gc(22,"Action"),A.Rb(),A.Rb(),A.Rb(),A.Sb(23,"tbody"),A.Ec(24,ke,29,24,"tr",8),A.hc(25,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(7),A.nc("ngModel",n.selectall),A.zb(17),A.nc("ngForOf",A.ic(25,3,n.Data$))("ngForTrackBy",n.getKey)}}function Ie(t,e){1&t&&A.Nb(0,"app-norecord")}function Ce(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,Ae,26,5,"div",0),A.hc(2,"async"),A.Ec(3,Ie,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var we=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.category_types=[],this.View=new A.n,this.SelectedItems=new A.n,this.selectall=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(V.a),A.Mb(x.a),A.Mb(U))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",category_types:"category_types"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"class",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],["data-toggle","tooltip","title","Add child category","data-original-title","Add",3,"routerLink"],[1,"fa","fa-plus","text-inverse","m-r-10"],["data-toggle","tooltip","title","Edit category","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"badge","badge-danger"],[1,"badge","badge-success"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,pe,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,Ce,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,O.a,O.n,O.q,y.m,R.e,te.a],pipes:[y.b],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["categories","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["categories","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["categories","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["categories","selectall"])],t.prototype,"selectAll$",void 0),t}();function _e(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",2),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function je(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"div",4),A.Sb(3,"app-navigation-v2",5),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",6),A.Sb(5,"app-toolbar-v2",7),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",8),A.Sb(7,"app-list",9),A.ec("View",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SelectedItems",(function(t){return A.xc(i),A.gc().getSelectedItems(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("category_types",n.CategoryTypes)("isActionGranded",n.isActionGranded)}}var Ge,ze=((Ge=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.router=n,this.permission=o,this.coreService=c,this.coreActions=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Categories",this.subheading="Management",this.isItemsSelected=!1,this.CategoryCaption="",this.Records=0,this.Pagination={},this.Configs={},this.CategoryTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.configs$.subscribe((function(e){if(t.Configs=e,void 0!==e.general)for(var i in e.general.category)t.CategoryTypes.push({id:e.general.category[i],title:i})})),this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){if(t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e)),void 0!==t.Configs.general)for(var i in t.Configs.general.category)t.Configs.general.category[i]===e.type&&(t.CategoryCaption=i,t.ToolbarOptions.left_options[0].title="["+i+"]")})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"f_adult":this.actions.applyFilter({attr:"isadult",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){this.router.navigate(["/settings/categories/process/"])}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||Ge)(A.Mb(E),A.Mb(U),A.Mb(R.c),A.Mb(kt.a),A.Mb(w.a),A.Mb(x.a),A.Mb(V.a))},Ge.\u0275cmp=A.Gb({type:Ge,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"category_types","isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Ec(1,_e,3,0,"div",1),A.Ec(2,je,8,6,"div",1),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,we],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["categories","filteroptions"])],Ge.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["categories","categories"])],Ge.prototype,"categories$",void 0),Object(T.a)([Object(D.e)(["categories","itemsselected"])],Ge.prototype,"isItemSelected$",void 0),Object(T.a)([Object(D.e)(["categories","isloaded"])],Ge.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["categories","records"])],Ge.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["categories","pagination"])],Ge.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Ge.prototype,"auth$",void 0),Object(T.a)([Object(D.e)(["configuration","configs"])],Ge.prototype,"configs$",void 0),Ge);function xe(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",1),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function Me(t,e){1&t&&A.Nb(0,"app-loader")}function $e(t,e){if(1&t){var i=A.Tb();A.Sb(0,"dynamic-modal-form",11),A.ec("OnSubmit",(function(t){return A.xc(i),A.gc(2).SubmitForm(t)}))("OnDropdownSelection",(function(t){return A.xc(i),A.gc(2).OnDropdownSelection(t)}))("FileRemoved",(function(t){return A.xc(i),A.gc(2).FileRemoved(t)})),A.Rb()}if(2&t){var n=A.gc(2);A.nc("controls",n.controls)("showLoader",n.showLoader)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function Le(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",2),A.Sb(2,"div",3),A.Sb(3,"div",4),A.Nb(4,"app-navigation-v2",5),A.Rb(),A.Rb(),A.Sb(5,"div",6),A.Sb(6,"div",4),A.Sb(7,"div",7),A.Sb(8,"h4",8),A.Gc(9),A.Rb(),A.Rb(),A.Sb(10,"div",9),A.Ec(11,Me,1,0,"app-loader",0),A.Ec(12,$e,1,5,"dynamic-modal-form",10),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc();A.zb(4),A.nc("Options",i.SearchOptions),A.zb(5),A.Hc(i.formHeading),A.zb(2),A.nc("ngIf",i.showLoader),A.zb(1),A.nc("ngIf",!i.showLoader)}}var Ne,Fe=((Ne=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.CategoryID=0,this.CategoryType=0,this.CategoryList=[],this.controls=[],this.showLoader=!1,this.formHeading="Add Category",this.submitText="Add Category",this.ParentAdd=!1,this.ParentID=0,this.IsLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isloaded$.subscribe((function(e){t.IsLoaded=e,console.log("isload called"),t.IsLoaded||t.router.navigate(["/settings/categories/"])})),this.configs$.subscribe((function(e){t.Configs=e})),this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539515099045","1539515144335",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539515099045",e.Role)&&(t.isActionGranded=!0))})),this.route.params.subscribe((function(e){t.ParentID=Number.parseInt(e.parentid,10),isNaN(t.ParentID)&&(t.ParentID=0),t.CategoryID=Number.parseInt(e.id,10),isNaN(t.CategoryID)&&(t.CategoryID=0),t.CategoryID>0?(t.formHeading="Update Category",t.submitText="Update",t.LoadInfo(t.CategoryID,!1)):t.ParentID>0?t.LoadInfo(t.ParentID,!0):(t.initializeControls(t.settingService.getInitObject()),t.LoadDropdownCategories(t.CategoryType))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.dropdownCategories$.subscribe((function(e){t.CategoryList=e,t.CategoryList.length>0?t.LoadDropdownCategories(t.CategoryType):t.dataService.LoadDropdownCategories(t.CategoryType)}))}},{key:"LoadDropdownCategories",value:function(t){var e=[],i=!0,n=!1,o=void 0;try{for(var c,s=this.CategoryList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var a=c.value;console.log(a.type),a.type==t&&e.push({value:a.title,key:a.id.toString()})}}catch(r){n=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}e.unshift({value:"No Parent",key:"0"}),this.PoupulateParentCategories(e)}},{key:"OnDropdownSelection",value:function(t){"type"===t.key&&this.LoadDropdownCategories(t.value)}},{key:"PoupulateParentCategories",value:function(t){var e=!0,i=!1,n=void 0;try{for(var o,c=this.controls[Symbol.iterator]();!(e=(o=c.next()).done);e=!0){var s=o.value;"parentid"===s.key&&(s.options=t,this.ParentID>0&&(s.value=this.ParentID.toString()))}}catch(a){i=!0,n=a}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}}},{key:"FileRemoved",value:function(t){console.log(t)}},{key:"LoadInfo",value:function(t,e){var i=this;this.showLoader=!0,this.dataService.GetInfo(t).subscribe((function(t){if("success"===t.status){if(e){var n=i.settingService.getInitObject();n.type=t.post.type,n.parentid=t.post.parentid,n.priority=t.post.priority+1,n.isenabled=t.post.isenabled,i.initializeControls(n),i.LoadDropdownCategories(n.type)}else i.initializeControls(t.post),i.ParentID=t.post.parentid,i.LoadDropdownCategories(t.post.type);i.showLoader=!1}else i.coreActions.Notify({title:t.message,text:"",css:"bg-error"}),i.initializeControls(i.settingService.getInitObject())}))}},{key:"initializeControls",value:function(t){this.controls=this.formService.getControls(t,this.Configs.general.media,this.Configs.general.category)}},{key:"SubmitForm",value:function(t){var e=this;if(null===t.priority&&(t.priority=0),this.isActionGranded){this.showLoader=!0;var i="Added";this.CategoryID>0&&(t.id=this.CategoryID,i="Updated"),this.dataService.AddRecord(t).subscribe((function(t){"error"===t.status?e.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(e.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),e.actions.reloadList(),e.router.navigate(["/settings/categories/"])),e.showLoader=!1}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Ne)(A.Mb(E),A.Mb(U),A.Mb(w.a),A.Mb(x.a),A.Mb(V.a),A.Mb(R.a),A.Mb(B),A.Mb(kt.a),A.Mb(R.c))},Ne.\u0275cmp=A.Gb({type:Ne,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved"]],template:function(t,e){1&t&&(A.Ec(0,xe,3,0,"div",0),A.Ec(1,Le,13,4,"div",0)),2&t&&(A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,xt.a,Wt.a],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["categories","isloaded"])],Ne.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["categories","dropdown_categories"])],Ne.prototype,"dropdownCategories$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Ne.prototype,"auth$",void 0),Object(T.a)([Object(D.e)(["configuration","configs"])],Ne.prototype,"configs$",void 0),Ne);function Pe(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function Te(t,e){1&t&&A.Nb(0,"app-loader")}function De(t,e){if(1&t){var i=A.Tb();A.Sb(0,"a",20),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=A.gc(2).$implicit;return A.gc(2).renderNav(o,n,t),!1})),A.Gc(1),A.Rb()}if(2&t){var n=e.$implicit;A.zb(1),A.Hc(n.title)}}function Ee(t,e){if(1&t&&(A.Sb(0,"div",18),A.Ec(1,De,2,1,"a",19),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.nc("ngForOf",i.child_nav)}}function Ve(t,e){if(1&t&&(A.Sb(0,"li",14),A.Sb(1,"a",15),A.Gc(2),A.Nb(3,"span",16),A.Rb(),A.Ec(4,Ee,2,1,"div",17),A.Rb()),2&t){var i=e.$implicit,n=A.gc(2);A.nc("ngClass",n.ConfigType===i.id?"nav-item dropdown active":"nav-item dropdown"),A.zb(2),A.Ic(" ",i.title," "),A.zb(2),A.nc("ngIf",i.child_nav.length>0)}}function Ue(t,e){1&t&&A.Nb(0,"app-loader")}function Je(t,e){if(1&t){var i=A.Tb();A.Sb(0,"dynamic-modal-form",27),A.ec("OnSubmit",(function(t){return A.xc(i),A.gc(3).SubmitForm(t)})),A.Rb()}if(2&t){var n=A.gc(3);A.nc("controls",n.controls)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function He(t,e){if(1&t&&(A.Sb(0,"div",21),A.Sb(1,"div",22),A.Sb(2,"div",23),A.Sb(3,"div",24),A.Sb(4,"h4",25),A.Gc(5),A.Rb(),A.Rb(),A.Ec(6,Ue,1,0,"app-loader",3),A.Ec(7,Je,1,4,"dynamic-modal-form",26),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc(2);A.zb(5),A.Hc(i.formHeading),A.zb(1),A.nc("ngIf",i.showProcessing),A.zb(1),A.nc("ngIf",!i.showProcessing&&i.controls.length>0)}}function Be(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,Te,1,0,"app-loader",3),A.hc(2,"async"),A.Sb(3,"div",5),A.Sb(4,"div",6),A.Sb(5,"nav",7),A.Sb(6,"button",8),A.Nb(7,"span",9),A.Rb(),A.Sb(8,"div",10),A.Sb(9,"ul",11),A.Ec(10,Ve,5,3,"li",12),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Ec(11,He,8,3,"div",13),A.hc(12,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,3,i.loading$)),A.zb(9),A.nc("ngForOf",i.SearchOptions.navList),A.zb(1),A.nc("ngIf",!A.ic(12,5,i.loading$))}}var Ke,qe=((Ke=function(){function t(e,i,n,o,c,s,a,r){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.permission=c,this.actions=s,this.route=a,this.formService=r,this.isAccessGranted=!1,this.isActionGranded=!1,this.navTabs=[],this.IsLoaded=!1,this.Configs=[],this.Configurations={},this.ConfigType=0,this.ChildConfigType=0,this.controls=[],this.showProcessing=!1,this.formHeading="",this.submitText="Save Changes",this.primay_prop="",this.child_prop=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.route.params.subscribe((function(e){t.ConfigType=Number.parseInt(e.type,10),isNaN(t.ConfigType)&&(t.ConfigType=0)})),this.isloaded$.subscribe((function(e){t.IsLoaded=e,t.IsLoaded||t.loadRecords()})),this.Configurations$.subscribe((function(e){t.Configurations=e,t.InitializeMainNavigation()}))}},{key:"loadRecords",value:function(){this.dataService.LoadRecords()}},{key:"InitializeMainNavigation",value:function(){var t=[],e=0;for(var i in this.Configurations)t.push({id:e,title:i[0].toUpperCase()+i.slice(1),child_nav:[]}),e++;this.SearchOptions=this.settingService.getSearchOptions(t),this.attachSubNavItems()}},{key:"attachSubNavItems",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.SearchOptions.navList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;for(var s in this.Configurations)if(s===c.title.toLowerCase()){var a=0;for(var r in this.Configurations[s])c.child_nav.push({id:a,title:r[0].toUpperCase()+r.slice(1),parent_attr:s,child_attr:r}),a++}}}catch(l){e=!0,i=l}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}this.Initialize()}},{key:"Initialize",value:function(){if(this.SearchOptions.navList.length>0){var t=this.SearchOptions.navList[0];t.child_nav.length>0&&this.renderForm(t.child_nav[0].parent_attr,t.child_nav[0].child_attr)}}},{key:"renderNav",value:function(t,e,i){this.ConfigType=t.id,this.ChildConfigType=e.id,this.renderForm(e.parent_attr,e.child_attr),i.stopPropagation()}},{key:"renderForm",value:function(t,e){this.formHeading=e[0].toUpperCase()+e.slice(1)+" Settings",this.primay_prop=t,this.child_prop=e,this.controls=this.formService.getControls(this.Configurations[t][e],t,e)}},{key:"SubmitForm",value:function(t){var e=this;if(this.isActionGranded){var i=this.Configurations[this.primay_prop][this.child_prop];for(var n in i)for(var o in t)o===n&&(i[n]=t[o]);console.log(i),this.showProcessing=!0,this.dataService.UpdateConfigurations(i,this.primay_prop,this.child_prop).subscribe((function(t){e.coreActions.Notify("error"===t.status?{title:t.message,text:"",css:"bg-success"}:{title:"Settings Updated",text:"",css:"bg-success"}),e.showProcessing=!1}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"}),e.showProcessing=!1}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Ke)(A.Mb(q.a),A.Mb(Y.a),A.Mb(w.a),A.Mb(x.a),A.Mb(kt.a),A.Mb(X.a),A.Mb(R.a),A.Mb(W.a))},Ke.\u0275cmp=A.Gb({type:Ke,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","m-b-10"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#configurationSettings","aria-controls","configurationSettings","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","configurationSettings",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row justify-content-md-center",4,"ngIf"],[3,"ngClass"],["data-toggle","dropdown","href","#",1,"nav-link","dropdown-toggle"],[1,"caret"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","href","#",3,"click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8","col-sm-10","col-xs-12"],[1,"card-body","card-outline-inverse"],[1,"card-header"],[1,"m-b-0"],[3,"controls","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,Pe,3,0,"div",3),A.Ec(4,Be,13,7,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,y.m,xt.a,y.l,Wt.a],pipes:[y.b],encapsulation:2}),Object(T.a)([Object(D.e)(["configurations","configurations"])],Ke.prototype,"Configurations$",void 0),Object(T.a)([Object(D.e)(["configurations","loading"])],Ke.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["configurations","isloaded"])],Ke.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Ke.prototype,"auth$",void 0),Ke),Ye=i("/4iV"),We=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.coreActions=i,this.service=n,this.dataService=o,this.ViewType=1,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.ViewType=this.Info.viewtype,this.controls=1===this.Info.viewtype?this.service.getRoleControls(this.Info.data):this.service.getObjectControls(this.Info.data),console.log(this.controls)}},{key:"SubmitForm",value:function(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.activeModal.close({data:t,viewtype:this.Info.viewtype})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(m.a),A.Mb(x.a),A.Mb(st),A.Mb(ct))},t.\u0275cmp=A.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[A.yb([st,ct])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"h4",1),A.Gc(2),A.Rb(),A.Sb(3,"button",2),A.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),A.Sb(4,"span",3),A.Gc(5,"\xd7"),A.Rb(),A.Rb(),A.Rb(),A.Sb(6,"dynamic-modal-form",4),A.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),A.Rb()),2&t&&(A.zb(2),A.Hc(e.title),A.zb(4),A.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Wt.a],encapsulation:2}),t}();function Xe(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",1),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}var Qe=function(t){return{active:t}};function Ze(t,e){if(1&t){var i=A.Tb();A.Sb(0,"li",11),A.Sb(1,"a",12),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(2).filterCategories(n,t),!1})),A.Gc(2),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit,o=A.gc(2);A.nc("ngClass",A.rc(3,Qe,o.RoleType==n.value)),A.zb(1),A.oc("title",n.title),A.zb(1),A.Ic(" ",n.title," ")}}function ti(t,e){1&t&&A.Nb(0,"app-loader")}function ei(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",24),A.Sb(1,"td"),A.Sb(2,"h4"),A.Gc(3),A.Rb(),A.Rb(),A.Sb(4,"td",25),A.Sb(5,"a",26),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(5).editRole(n,t),!1})),A.Nb(6,"i",27),A.Rb(),A.Sb(7,"a",28),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(5).delete(n,o,t),!1})),A.Nb(8,"i",29),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("hidden",n.isdeleted),A.zb(3),A.Hc(n.rolename)}}function ii(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",19),A.Sb(2,"table",20),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th",21),A.Gc(6," Name "),A.Rb(),A.Sb(7,"th",22),A.Gc(8," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(9,"tbody"),A.Ec(10,ei,9,2,"tr",23),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc(4);A.zb(10),A.nc("ngForOf",i.RoleList)}}function ni(t,e){1&t&&A.Nb(0,"app-norecord")}function oi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",16),A.Sb(2,"button",17),A.ec("click",(function(){return A.xc(i),A.gc(3).addRole()})),A.Nb(3,"i",18),A.Gc(4," Add Role "),A.Rb(),A.Rb(),A.Ec(5,ii,11,1,"div",0),A.Ec(6,ni,1,0,"app-norecord",0),A.Rb()}if(2&t){var n=A.gc(3);A.zb(5),A.nc("ngIf",n.RoleList.length>0),A.zb(1),A.nc("ngIf",0===n.RoleList.length)}}function ci(t,e){if(1&t&&(A.Sb(0,"div",4),A.Sb(1,"div",13),A.Sb(2,"h4",14),A.Gc(3),A.Rb(),A.Rb(),A.Sb(4,"div",15),A.Ec(5,ti,1,0,"app-loader",0),A.Ec(6,oi,7,2,"div",0),A.Rb(),A.Rb()),2&t){var i=A.gc(2);A.zb(3),A.Hc(i.formHeading),A.zb(2),A.nc("ngIf",i.showLoader),A.zb(1),A.nc("ngIf",!i.showLoader)}}function si(t,e){1&t&&A.Nb(0,"app-loader")}function ai(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",24),A.Sb(1,"td"),A.Sb(2,"h4"),A.Gc(3),A.Rb(),A.Nb(4,"div",30),A.Rb(),A.Sb(5,"td"),A.Gc(6),A.Rb(),A.Sb(7,"td",25),A.Sb(8,"a",26),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(5).editObject(n,t),!1})),A.Nb(9,"i",27),A.Rb(),A.Sb(10,"a",28),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(5).deleteObject(n,o,t),!1})),A.Nb(11,"i",29),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("hidden",n.isdeleted),A.zb(3),A.Hc(n.objectname),A.zb(1),A.nc("innerHTML",n.description,A.yc),A.zb(2),A.Ic(" ",n.uniqueid," ")}}function ri(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",19),A.Sb(2,"table",20),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th",25),A.Gc(6," Name "),A.Rb(),A.Sb(7,"th",25),A.Gc(8," Key "),A.Rb(),A.Sb(9,"th",25),A.Gc(10," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(11,"tbody"),A.Ec(12,ai,12,4,"tr",23),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc(4);A.zb(12),A.nc("ngForOf",i.ObjectList)}}function li(t,e){1&t&&A.Nb(0,"app-norecord")}function di(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",16),A.Sb(2,"button",17),A.ec("click",(function(){return A.xc(i),A.gc(3).addObject()})),A.Nb(3,"i",18),A.Gc(4," Add Object "),A.Rb(),A.Rb(),A.Ec(5,ri,13,1,"div",0),A.Ec(6,li,1,0,"app-norecord",0),A.Rb()}if(2&t){var n=A.gc(3);A.zb(5),A.nc("ngIf",n.ObjectList.length>0),A.zb(1),A.nc("ngIf",0===n.ObjectList.length)}}function bi(t,e){if(1&t&&(A.Sb(0,"div",4),A.Sb(1,"div",13),A.Sb(2,"h4",14),A.Gc(3),A.Rb(),A.Rb(),A.Sb(4,"div",15),A.Ec(5,si,1,0,"app-loader",0),A.Ec(6,di,7,2,"div",0),A.Rb(),A.Rb()),2&t){var i=A.gc(2);A.zb(3),A.Hc(i.formHeading),A.zb(2),A.nc("ngIf",i.showLoader),A.zb(1),A.nc("ngIf",!i.showLoader)}}function ui(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",2),A.Sb(2,"div",3),A.Sb(3,"div",4),A.Sb(4,"div",5),A.Sb(5,"ul",6),A.Ec(6,Ze,3,5,"li",7),A.Rb(),A.Rb(),A.Rb(),A.Sb(7,"div",4),A.Nb(8,"app-navigation-v2",8),A.Rb(),A.Rb(),A.Sb(9,"div",9),A.Ec(10,ci,7,3,"div",10),A.Ec(11,bi,7,3,"div",10),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc();A.zb(6),A.nc("ngForOf",i.RoleTypes),A.zb(2),A.nc("FilterOptions",i.FilterOptions)("Options",i.SearchOptions),A.zb(2),A.nc("ngIf",1==i.RoleType),A.zb(1),A.nc("ngIf",2==i.RoleType)}}var pi,hi=((pi=function(){function t(e,i,n,o,c,s,a,r,l,d){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.modalService=d,this.controls=[],this.showLoader=!1,this.formHeading="Manage Roles",this.RoleTypes=Ye.b.ROLE_TYPES,this.RoleList=[],this.ObjectList=[],this.RoleType=1,this.IsRoleLoaded=!1,this.isObjectLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.roles$.subscribe((function(e){t.RoleList=e})),this.objects$.subscribe((function(e){t.ObjectList=e})),this.isroleloaded$.subscribe((function(e){t.IsRoleLoaded=e,t.IsRoleLoaded||t.dataService.LoadRoles()})),this.isobjectloaded$.subscribe((function(e){t.isObjectLoaded=e,t.isObjectLoaded||t.dataService.LoadObjects()}))}},{key:"filterCategories",value:function(t,e){this.RoleType=t.value,console.log("obj value "+t.value),this.formHeading=1===this.RoleType?"Manage Roles":"Manage Role Objects",e.stopPropagation()}},{key:"editObject",value:function(t,e){this.isActionGranded?(this._triggleModal(t,2,"Update Role Object"),e.stopPropagation()):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"editRole",value:function(t,e){this.router.navigate(["/settings/roles/process/"+t.id]),e.stopPropagation()}},{key:"addRole",value:function(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObject(),1,"Add Role"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"addObject",value:function(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObjectObject(),2,"Add Role Object"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"_triggleModal",value:function(t,e,i){var n=this,o=this.modalService.open(We,{backdrop:!1});o.componentInstance.Info={title:i,viewtype:e,data:t},o.result.then((function(t){if(console.log(t),1===t.viewtype)n.dataService.AddRole(t.data);else if(n.dataService.AddObject(t.data),t.data.id>0){var e=!0,i=!1,o=void 0;try{for(var c,s=n.ObjectList[Symbol.iterator]();!(e=(c=s.next()).done);e=!0){var a=c.value;a.id===t.data.id&&(a.objectname=t.data.objectname,a.description=t.data.description)}}catch(r){i=!0,o=r}finally{try{e||null==s.return||s.return()}finally{if(i)throw o}}}}),(function(t){console.log("dismissed")}))}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_role,1):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"deleteObject",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_object,2):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||pi)(A.Mb(nt),A.Mb(ct),A.Mb(w.a),A.Mb(x.a),A.Mb(ot.a),A.Mb(R.a),A.Mb(st),A.Mb(kt.a),A.Mb(R.c),A.Mb(m.b))},pi.\u0275cmp=A.Gb({type:pi,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"FilterOptions","Options"],[1,"col-md-9"],["class","card",4,"ngIf"],[1,"list-group-item",3,"ngClass"],["href","#",3,"title","click"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"m-b-10","m-t-10"],["type","button",1,"btn","btn-dark","m-r-5",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap",2,"width","90%"],[1,"text-nowrap",2,"width","10%"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"text-nowrap"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(A.Ec(0,Xe,3,0,"div",0),A.Ec(1,ui,12,5,"div",0)),2&t&&(A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,y.m,_t.a,y.l,xt.a,te.a],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["roles","roles"])],pi.prototype,"roles$",void 0),Object(T.a)([Object(D.e)(["roles","objects"])],pi.prototype,"objects$",void 0),Object(T.a)([Object(D.e)(["roles","isroleloaded"])],pi.prototype,"isroleloaded$",void 0),Object(T.a)([Object(D.e)(["roles","isobjectloaded"])],pi.prototype,"isobjectloaded$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],pi.prototype,"auth$",void 0),pi);function fi(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",1),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function gi(t,e){1&t&&A.Nb(0,"app-loader")}function vi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr"),A.Sb(1,"td",12),A.Sb(2,"div",13),A.Sb(3,"input",21),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t})),A.Rb(),A.Nb(4,"label",22),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Gc(6),A.Rb(),A.Sb(7,"td",23),A.Gc(8),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit,o=e.index;A.zb(3),A.oc("id",o),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",o),A.zb(2),A.Ic(" ",n.objectname," "),A.zb(2),A.Ic(" ",n.description," ")}}function Si(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",10),A.Sb(2,"table",11),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th",12),A.Sb(6,"div",13),A.Sb(7,"input",14),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(3).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).processChange()})),A.Rb(),A.Nb(8,"label",15),A.Rb(),A.Rb(),A.Sb(9,"th",16),A.Gc(10," Permission "),A.Rb(),A.Sb(11,"th",17),A.Gc(12," Detail "),A.Rb(),A.Rb(),A.Rb(),A.Sb(13,"tbody"),A.Ec(14,vi,9,5,"tr",18),A.Rb(),A.Rb(),A.Rb(),A.Sb(15,"div",19),A.Sb(16,"button",20),A.ec("click",(function(){return A.xc(i),A.gc(3).updatePermission()})),A.Gc(17," Update Permission "),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(3);A.zb(7),A.nc("ngModel",n.selectall),A.zb(7),A.nc("ngForOf",n.ObjectList)}}function yi(t,e){1&t&&A.Nb(0,"app-norecord")}function mi(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"h2"),A.Gc(2),A.Rb(),A.Nb(3,"hr"),A.Sb(4,"h3"),A.Gc(5,"Permission List"),A.Rb(),A.Ec(6,Si,18,2,"div",0),A.Ec(7,yi,1,0,"app-norecord",0),A.Rb()),2&t){var i=A.gc(2);A.zb(2),A.Ic("Role: ",i.Info.rolename,""),A.zb(4),A.nc("ngIf",i.ObjectList.length>0),A.zb(1),A.nc("ngIf",0===i.ObjectList.length)}}function Oi(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",2),A.Sb(2,"div",3),A.Sb(3,"div",4),A.Nb(4,"app-navigation-v2",5),A.Rb(),A.Rb(),A.Sb(5,"div",6),A.Sb(6,"div",4),A.Sb(7,"div",7),A.Sb(8,"h4",8),A.Gc(9),A.Rb(),A.Rb(),A.Sb(10,"div",9),A.Ec(11,gi,1,0,"app-loader",0),A.Ec(12,mi,8,3,"div",0),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc();A.zb(4),A.nc("Options",i.SearchOptions),A.zb(5),A.Hc(i.formHeading),A.zb(2),A.nc("ngIf",i.showLoader),A.zb(1),A.nc("ngIf",!i.showLoader&&i.Info)}}var Ri,ki=((Ri=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.permission=a,this.formService=r,this.router=l,this.RecordID=0,this.showLoader=!1,this.formHeading="Add Role",this.submitText="Add Role",this.ObjectList=[],this.selectall=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539516299310","1539516260338",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539516299310",e.Role)&&(t.isActionGranded=!0))})),this.isroleloaded$.subscribe((function(e){e||t.router.navigate(["/settings/roles/"])})),this.objects$.subscribe((function(e){t.ObjectList=e})),this.route.params.subscribe((function(e){t.RecordID=Number.parseInt(e.id,10),t.RecordID>0?(t.formHeading="Update Role Permissions",t.submitText="Update Role",t.LoadInfo()):t.router.navigate(["/settings/roles/"])})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe((function(e){t.Info=e.posts,t.showLoader=!1;var i=!0,n=!1,o=void 0;try{for(var c,s=t.ObjectList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)c.value.Selected=!1}catch(S){n=!0,o=S}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}var a=!0,r=!1,l=void 0;try{for(var d,b=t.ObjectList[Symbol.iterator]();!(a=(d=b.next()).done);a=!0){var u=d.value,p=!0,h=!1,f=void 0;try{for(var g,v=t.Info.permissions[Symbol.iterator]();!(p=(g=v.next()).done);p=!0)g.value.objectid===u.id&&(u.Selected=!0)}catch(S){h=!0,f=S}finally{try{p||null==v.return||v.return()}finally{if(h)throw f}}}}catch(S){r=!0,l=S}finally{try{a||null==b.return||b.return()}finally{if(r)throw l}}}))}},{key:"processChange",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.ObjectList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value.Selected=this.selectall}catch(c){e=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}},{key:"checkChange",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.ObjectList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value}catch(c){e=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}},{key:"updatePermission",value:function(){var t=this;if(this.isActionGranded){var e=[],i=!0,n=!1,o=void 0;try{for(var c,s=this.ObjectList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var a=c.value;a.Selected&&e.push({roleid:this.Info.id,objectid:a.id})}}catch(r){n=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}console.log(e),this.showLoader=!0,this.dataService.UpdatePermission(e).subscribe((function(e){"error"===e.status?t.coreActions.Notify({title:e.message,text:"",css:"bg-success"}):(t.coreActions.Notify({title:"Permission Updated Successfully",text:"",css:"bg-success"}),t.router.navigate(["/settings/roles/"])),t.showLoader=!1}),(function(e){t.showLoader=!1,t.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Ri)(A.Mb(nt),A.Mb(ct),A.Mb(w.a),A.Mb(x.a),A.Mb(ot.a),A.Mb(R.a),A.Mb(kt.a),A.Mb(st),A.Mb(R.c))},Ri.\u0275cmp=A.Gb({type:Ri,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"width","5%"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap",2,"width","45%"],[1,"text-nowrap",2,"width","50%"],[4,"ngFor","ngForOf"],[1,"m-b-5","m-t-5"],[1,"btn","btn-primary",3,"click"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-nowrap"]],template:function(t,e){1&t&&(A.Ec(0,fi,3,0,"div",0),A.Ec(1,Oi,13,4,"div",0)),2&t&&(A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,xt.a,O.a,O.n,O.q,y.m,te.a],encapsulation:2}),Object(T.a)([Object(D.e)(["roles","objects"])],Ri.prototype,"objects$",void 0),Object(T.a)([Object(D.e)(["roles","isroleloaded"])],Ri.prototype,"isroleloaded$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Ri.prototype,"auth$",void 0),Ri),Ai=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getControls",value:function(t){var e=[];return e.push(new H.g({key:"value",label:"Value",value:t.value,required:!0,minLength:5,maxLength:40,order:1})),e.push(new H.b({key:"type",label:"Type",value:t.type.toString(),required:!0,options:[{key:"0",value:"Screening Worlds"},{key:"1",value:"Restricted Usernams"}],order:2})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A.Ib({token:t,factory:t.\u0275fac}),t}(),Ii=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.service=i,this.dataService=n,this.coreActions=o,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data),console.log(this.controls)}},{key:"SubmitForm",value:function(t){var e=this;void 0===this.Info.isActionGranded||this.Info.isActionGranded?(this.showLoader=!0,this.dataService.AddRecord(t).subscribe((function(t){e.showLoader=!1,"success"===t.status?(e.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),e.activeModal.close({data:t.record})):e.coreActions.Notify({title:t.message,text:"",css:"bg-danger"})}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(m.a),A.Mb(Ai),A.Mb(et),A.Mb(x.a))},t.\u0275cmp=A.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[A.yb([Ai,et])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"h4",1),A.Gc(2),A.Rb(),A.Sb(3,"button",2),A.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),A.Sb(4,"span",3),A.Gc(5,"\xd7"),A.Rb(),A.Rb(),A.Rb(),A.Sb(6,"dynamic-modal-form",4),A.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),A.Rb()),2&t&&(A.zb(2),A.Hc(e.title),A.zb(4),A.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Wt.a],encapsulation:2}),t}();function Ci(t,e){1&t&&A.Nb(0,"app-loader")}function wi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",23),A.Sb(2,"div",24),A.Sb(3,"div"),A.Sb(4,"input",25),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc().$implicit.value=t})),A.Rb(),A.Rb(),A.Sb(5,"div",26),A.Sb(6,"button",27),A.ec("click",(function(){A.xc(i);var t=A.gc().$implicit;return A.gc(3)._UpdateRecord(t)})),A.Gc(7," Save "),A.Rb(),A.Sb(8,"button",28),A.ec("click",(function(t){A.xc(i);var e=A.gc().$implicit;return A.gc(3).toggleEditView(e,t)})),A.Gc(9," Cancel "),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc().$implicit;A.zb(4),A.nc("ngModel",n.value)}}function _i(t,e){if(1&t&&(A.Sb(0,"div"),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Ic(" ",i.value," ")}}function ji(t,e){1&t&&(A.Sb(0,"span",29),A.Gc(1,"Screening Word"),A.Rb())}function Gi(t,e){1&t&&(A.Sb(0,"span",30),A.Gc(1,"Restricted UserName"),A.Rb())}function zi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",13),A.Sb(1,"td",14),A.Sb(2,"div",5),A.Sb(3,"input",15),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).checkChange()})),A.Rb(),A.Nb(4,"label",16),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Ec(6,wi,10,1,"div",0),A.Ec(7,_i,2,1,"div",0),A.Rb(),A.Sb(8,"td"),A.Ec(9,ji,2,0,"span",17),A.Ec(10,Gi,2,0,"span",18),A.Rb(),A.Sb(11,"td",11),A.Sb(12,"a",19),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(3).toggleEditView(n,t),!1})),A.Nb(13,"i",20),A.Rb(),A.Sb(14,"a",21),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(3).delete(n,o,t),!1})),A.Nb(15,"i",22),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(3),A.oc("id",n.id),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",n.id),A.zb(2),A.nc("ngIf",n.editview),A.zb(1),A.nc("ngIf",!n.editview),A.zb(2),A.nc("ngIf",0==n.type),A.zb(1),A.nc("ngIf",1==n.type)}}function xi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th"),A.Sb(6,"div",5),A.Sb(7,"input",6),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(2).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(2).processChange()})),A.Rb(),A.Nb(8,"label",7),A.Rb(),A.Rb(),A.Sb(9,"th",8),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("value")})),A.Sb(10,"span",9),A.Gc(11,"Value"),A.Rb(),A.Nb(12,"i",10),A.Rb(),A.Sb(13,"th",8),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("type")})),A.Sb(14,"span",9),A.Gc(15,"Type"),A.Rb(),A.Nb(16,"i",10),A.Rb(),A.Sb(17,"th",11),A.Gc(18," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(19,"tbody"),A.Ec(20,zi,16,9,"tr",12),A.hc(21,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(7),A.nc("ngModel",n.selectall),A.zb(2),A.nc("ngClass",n.fieldstates.value?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.value&&"asc"===n.sortedFields.value.direction?"fa fa-sort-asc":n.fieldstates.value&&"desc"===n.sortedFields.value.direction?"fa fa-sort-desc":"fa fa-sort"),A.zb(1),A.nc("ngClass",n.fieldstates.type?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.type&&"asc"===n.sortedFields.type.direction?"fa fa-sort-asc":n.fieldstates.type&&"desc"===n.sortedFields.type.direction?"fa fa-sort-desc":"fa fa-sort"),A.zb(4),A.nc("ngForOf",A.ic(21,7,n.Data$))("ngForTrackBy",n.getKey)}}function Mi(t,e){1&t&&A.Nb(0,"app-norecord")}function $i(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,xi,22,9,"div",0),A.hc(2,"async"),A.Ec(3,Mi,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var Li=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new A.n,this.SelectedItems=new A.n,this.sortedFields={value:{sort:"value",direction:"desc"},type:{sort:"type",direction:"desc"}},this.selectall=!1,this.fieldstates={value:!1,type:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(tt.a),A.Mb(x.a),A.Mb(et))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Value",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"badge","badge-danger"],[1,"badge","badge-warning"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,Ci,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,$i,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,O.a,O.n,O.q,y.l,y.m,O.c,te.a],pipes:[y.b],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["dictionary","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["dictionary","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["dictionary","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["dictionary","selectall"])],t.prototype,"selectAll$",void 0),t}();function Ni(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function Fi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",0),A.Sb(2,"div",5),A.Sb(3,"app-navigation-v2",6),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",7),A.Sb(5,"app-toolbar-v2",8),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",9),A.Sb(7,"app-list",10),A.ec("View",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SelectedItems",(function(t){return A.xc(i),A.gc().getSelectedItems(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("isActionGranded",n.isActionGranded)}}var Pi,Ti=((Pi=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.coreActions=c,this.permission=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Dictionary",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){var t=this,e=this.modalService.open(Ii,{backdrop:!1});e.componentInstance.Info={title:"Add new Value",data:this.settingService.getInitObject()},e.result.then((function(e){console.log("back result"),console.log(e),t.actions.addRecord(e.data)}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||Pi)(A.Mb(Z),A.Mb(et),A.Mb(m.b),A.Mb(w.a),A.Mb(x.a),A.Mb(kt.a),A.Mb(tt.a))},Pi.\u0275cmp=A.Gb({type:Pi,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,Ni,3,0,"div",3),A.Ec(4,Fi,8,5,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,Li],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["dictionary","filteroptions"])],Pi.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["dictionary","itemsselected"])],Pi.prototype,"isItemSelected$",void 0),Object(T.a)([Object(D.e)(["dictionary","isloaded"])],Pi.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["dictionary","records"])],Pi.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["dictionary","pagination"])],Pi.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Pi.prototype,"auth$",void 0),Pi);function Di(t,e){1&t&&A.Nb(0,"app-loader")}function Ei(t,e){1&t&&(A.Sb(0,"span"),A.Gc(1,"On"),A.Rb())}function Vi(t,e){1&t&&(A.Sb(0,"span"),A.Gc(1,"Off"),A.Rb())}function Ui(t,e){1&t&&(A.Sb(0,"span"),A.Gc(1,"On"),A.Rb())}function Ji(t,e){1&t&&(A.Sb(0,"span"),A.Gc(1,"Off"),A.Rb())}function Hi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",10),A.Sb(1,"td"),A.Gc(2),A.Rb(),A.Sb(3,"td"),A.Gc(4),A.Rb(),A.Sb(5,"td"),A.Sb(6,"button",11),A.ec("click",(function(){A.xc(i);var t=e.$implicit;return A.gc(3).triggleAction(t,"default")})),A.Ec(7,Ei,2,0,"span",0),A.Ec(8,Vi,2,0,"span",0),A.Rb(),A.Rb(),A.Sb(9,"td"),A.Sb(10,"button",11),A.ec("click",(function(){A.xc(i);var t=e.$implicit;return A.gc(3).triggleAction(t,"selected")})),A.Ec(11,Ui,2,0,"span",0),A.Ec(12,Ji,2,0,"span",0),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(2),A.Ic(" ",n.culturename," "),A.zb(2),A.Ic(" ",n.region," "),A.zb(2),A.nc("ngClass",1===n.isdefault?"btn-success":"btn-danger"),A.zb(1),A.nc("ngIf",1===n.isdefault),A.zb(1),A.nc("ngIf",0===n.isdefault),A.zb(2),A.nc("ngClass",1===n.isselected?"btn-success":"btn-danger"),A.zb(1),A.nc("ngIf",1===n.isselected),A.zb(1),A.nc("ngIf",0===n.isselected)}}function Bi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th",5),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("culturename")})),A.Sb(6,"span",6),A.Gc(7,"Culture"),A.Rb(),A.Nb(8,"i",7),A.Rb(),A.Sb(9,"th",5),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("region")})),A.Sb(10,"span",6),A.Gc(11,"Region"),A.Rb(),A.Nb(12,"i",7),A.Rb(),A.Sb(13,"th",8),A.Gc(14," Default "),A.Rb(),A.Sb(15,"th",8),A.Gc(16," Selected "),A.Rb(),A.Rb(),A.Rb(),A.Sb(17,"tbody"),A.Ec(18,Hi,13,10,"tr",9),A.hc(19,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(5),A.nc("ngClass",n.fieldstates.culturename?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.culturename&&"asc"===n.sortedFields.culturename.direction?"fa fa-sort-asc":n.fieldstates.culturename&&"desc"===n.sortedFields.culturename.direction?"fa fa-sort-desc":"fa fa-sort"),A.zb(1),A.nc("ngClass",n.fieldstates.region?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.region&&"asc"===n.sortedFields.region.direction?"fa fa-sort-asc":"fa fa-sort"),A.zb(6),A.nc("ngForOf",A.ic(19,6,n.Data$))("ngForTrackBy",n.getKey)}}function Ki(t,e){1&t&&A.Nb(0,"app-norecord")}function qi(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,Bi,20,8,"div",0),A.hc(2,"async"),A.Ec(3,Ki,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var Yi=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new A.n,this.SelectedItems=new A.n,this.sortedFields={culturename:{sort:"culturename",direction:"desc"},region:{sort:"region",direction:"desc"}},this.selectall=!1,this.fieldstates={culturename:!1,region:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"triggleAction",value:function(t,e){this.View.emit({action:e,value:t})}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(lt.a),A.Mb(x.a),A.Mb(dt))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[1,"btn",3,"ngClass","click"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,Di,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,qi,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,y.l,y.m,te.a],pipes:[y.b],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["language","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["language","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["language","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["language","selectall"])],t.prototype,"selectAll$",void 0),t}();function Wi(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function Xi(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",0),A.Sb(2,"div",5),A.Sb(3,"app-navigation-v2",6),A.ec("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",7),A.Nb(5,"app-toolbar-v2",8),A.Sb(6,"div",9),A.Sb(7,"app-list",10),A.ec("View",(function(t){return A.xc(i),A.gc().ProcessActions(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("isActionGranded",n.isActionGranded)}}var Qi,Zi=((Qi=function(){function t(e,i,n,o,c){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreActions=n,this.permission=o,this.actions=c,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)}))}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){t.value.actionstatus=t.action;var e=[];e.push(t.value),this.dataService.ProcessActions(e,t)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||Qi)(A.Mb(rt),A.Mb(dt),A.Mb(x.a),A.Mb(kt.a),A.Mb(lt.a))},Qi.\u0275cmp=A.Gb({type:Qi,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,Wi,3,0,"div",3),A.Ec(4,Xi,8,5,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,Yi],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["language","filteroptions"])],Qi.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["language","isloaded"])],Qi.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["language","records"])],Qi.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["language","pagination"])],Qi.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],Qi.prototype,"auth$",void 0),Qi);function tn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div",6),A.Sb(1,"button",7),A.ec("click",(function(){return A.xc(i),A.gc().close()})),A.Nb(2,"i",8),A.Gc(3," Cancel "),A.Rb(),A.Rb()}}var en=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.activeModal=e,this.dataService=i,this.showLoader=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,console.log(this.Info)}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(m.a),A.Mb(ht))},t.\u0275cmp=A.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[A.yb([ht])],decls:17,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"icon-cross"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"h4",1),A.Gc(2),A.Rb(),A.Sb(3,"button",2),A.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),A.Sb(4,"span",3),A.Gc(5,"\xd7"),A.Rb(),A.Rb(),A.Rb(),A.Sb(6,"div",4),A.Sb(7,"h4"),A.Gc(8),A.Rb(),A.Sb(9,"p"),A.Gc(10),A.Rb(),A.Sb(11,"p"),A.Gc(12),A.hc(13,"date"),A.Rb(),A.Sb(14,"p"),A.Gc(15),A.Rb(),A.Rb(),A.Ec(16,tn,4,0,"div",5)),2&t&&(A.zb(2),A.Hc(e.title),A.zb(6),A.Hc(e.Info.data.description),A.zb(2),A.Ic("URL: ",e.Info.data.url,""),A.zb(2),A.Hc(A.jc(13,6,e.Info.data.created_at,"fullDate")),A.zb(3),A.Hc(e.Info.data.stack_trace),A.zb(1),A.nc("ngIf",!e.showLoader))},directives:[y.n],pipes:[y.e],encapsulation:2}),t}();function nn(t,e){1&t&&A.Nb(0,"app-loader")}function on(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",13),A.Sb(1,"td",14),A.Sb(2,"div",5),A.Sb(3,"input",15),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).checkChange()})),A.Rb(),A.Nb(4,"label",16),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Nb(6,"div",17),A.Rb(),A.Sb(7,"td"),A.Sb(8,"span",18),A.Nb(9,"i",19),A.Rb(),A.Gc(10),A.hc(11,"date"),A.Rb(),A.Sb(12,"td",11),A.Sb(13,"a",20),A.ec("click",(function(t){A.xc(i);var n=e.$implicit;return A.gc(3).viewRecord(n,t),!1})),A.Nb(14,"i",21),A.Rb(),A.Sb(15,"a",22),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(3).delete(n,o,t),!1})),A.Nb(16,"i",23),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit;A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(3),A.oc("id",n.id),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",n.id),A.zb(2),A.nc("innerHTML",n.description,A.yc),A.zb(4),A.Ic(" ",A.jc(11,7,n.created_at,"fullDate")," ")}}function cn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th"),A.Sb(6,"div",5),A.Sb(7,"input",6),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(2).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(2).processChange()})),A.Rb(),A.Nb(8,"label",7),A.Rb(),A.Rb(),A.Sb(9,"th",8),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("ipaddress")})),A.Sb(10,"span",9),A.Gc(11,"Description"),A.Rb(),A.Nb(12,"i",10),A.Rb(),A.Sb(13,"th",8),A.ec("click",(function(){return A.xc(i),A.gc(2).Sort("created_at")})),A.Sb(14,"span",9),A.Gc(15,"Date"),A.Rb(),A.Nb(16,"i",10),A.Rb(),A.Sb(17,"th",11),A.Gc(18," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(19,"tbody"),A.Ec(20,on,17,10,"tr",12),A.hc(21,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(7),A.nc("ngModel",n.selectall),A.zb(2),A.nc("ngClass",n.fieldstates.description?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.description&&"asc"===n.sortedFields.description.direction?"fa fa-sort-asc":n.fieldstates.description&&"desc"===n.sortedFields.description.direction?"fa fa-sort-desc":"fa fa-sort"),A.zb(1),A.nc("ngClass",n.fieldstates.created_at?"selected-sort-option":""),A.zb(3),A.nc("ngClass",n.fieldstates.created_at&&"asc"===n.sortedFields.created_at.direction?"fa fa-sort-asc":"fa fa-sort"),A.zb(4),A.nc("ngForOf",A.ic(21,7,n.Data$))("ngForTrackBy",n.getKey)}}function sn(t,e){1&t&&A.Nb(0,"app-norecord")}function an(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,cn,22,9,"div",0),A.hc(2,"async"),A.Ec(3,sn,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var rn=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new A.n,this.SelectedItems=new A.n,this.sortedFields={description:{sort:"description",direction:"desc"},created_at:{sort:"created_at",direction:"desc"}},this.selectall=!1,this.fieldstates={description:!1,created_at:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(pt.a),A.Mb(x.a),A.Mb(ht))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","View",3,"click"],[1,"fa","fa-eye","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,nn,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,an,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,O.a,O.n,O.q,y.l,y.m,te.a],pipes:[y.b,y.e],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["log","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["log","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["log","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["log","selectall"])],t.prototype,"selectAll$",void 0),t}();function ln(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",4),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function dn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",0),A.Sb(2,"div",5),A.Sb(3,"app-navigation-v2",6),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",7),A.Sb(5,"app-toolbar-v2",8),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",9),A.Sb(7,"app-list",10),A.ec("SelectedItems",(function(t){return A.xc(i),A.gc().getSelectedItems(t)}))("View",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("isActionGranded",n.isActionGranded)}}var bn,un=((bn=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.permission=c,this.coreActions=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Log",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"view":return console.log(t.value),void this.ViewRecord(t.value);case"deleteall":return void this.DeleteAll();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"DeleteAll",value:function(){this.dataService.DeleteAllRecords()}},{key:"ViewRecord",value:function(t){console.log("view record triggered");var e=this.modalService.open(en,{backdrop:!1});e.componentInstance.Info={title:"View Log Detail",data:t},e.result.then((function(t){}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||bn)(A.Mb(ut),A.Mb(ht),A.Mb(m.b),A.Mb(w.a),A.Mb(kt.a),A.Mb(x.a),A.Mb(pt.a))},bn.\u0275cmp=A.Gb({type:bn,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Sb(1,"div",1),A.Sb(2,"div",2),A.Ec(3,ln,3,0,"div",3),A.Ec(4,dn,8,5,"div",3),A.Rb(),A.Rb(),A.Rb()),2&t&&(A.zb(3),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,rn],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["log","filteroptions"])],bn.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["log","itemsselected"])],bn.prototype,"isItemSelected$",void 0),Object(T.a)([Object(D.e)(["log","isloaded"])],bn.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["log","records"])],bn.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["log","pagination"])],bn.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],bn.prototype,"auth$",void 0),bn);function pn(t,e){1&t&&A.Nb(0,"app-loader")}function hn(t,e){if(1&t&&(A.Sb(0,"span",21),A.Gc(1),A.Rb()),2&t){var i=A.gc().$implicit;A.zb(1),A.Hc(i.title)}}function fn(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,hn,2,1,"span",20),A.Rb()),2&t){var i=e.$implicit,n=A.gc().$implicit;A.zb(1),A.nc("ngIf",n.type===i.id)}}var gn=function(t){return[t]};function vn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"tr",10),A.Sb(1,"td",11),A.Sb(2,"div",5),A.Sb(3,"input",12),A.ec("ngModelChange",(function(t){return A.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return A.xc(i),A.gc(3).checkChange()})),A.Rb(),A.Nb(4,"label",13),A.Rb(),A.Rb(),A.Sb(5,"td"),A.Gc(6),A.Rb(),A.Sb(7,"td"),A.Nb(8,"div",14),A.Rb(),A.Sb(9,"td"),A.Ec(10,fn,2,1,"div",15),A.Rb(),A.Sb(11,"td",8),A.Sb(12,"a",16),A.Nb(13,"i",17),A.Rb(),A.Sb(14,"a",18),A.ec("click",(function(t){A.xc(i);var n=e.$implicit,o=e.index;return A.gc(3).delete(n,o,t),!1})),A.Nb(15,"i",19),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=e.$implicit,o=A.gc(3);A.nc("@fadeIn",void 0)("hidden",n.isdeleted),A.zb(3),A.oc("id",n.id),A.nc("ngModel",n.Selected),A.zb(1),A.oc("for",n.id),A.zb(2),A.Ic(" ",n.templatekey," "),A.zb(2),A.nc("innerHTML",n.description,A.yc),A.zb(2),A.nc("ngForOf",o.MailTypes),A.zb(2),A.nc("routerLink",A.rc(9,gn,"/settings/mailtemplates/process/"+n.id))}}function Sn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"table",4),A.Sb(3,"thead"),A.Sb(4,"tr"),A.Sb(5,"th"),A.Sb(6,"div",5),A.Sb(7,"input",6),A.ec("ngModelChange",(function(t){return A.xc(i),A.gc(2).selectall=t}))("ngModelChange",(function(){return A.xc(i),A.gc(2).processChange()})),A.Rb(),A.Nb(8,"label",7),A.Rb(),A.Rb(),A.Sb(9,"th"),A.Gc(10," Template Key "),A.Rb(),A.Sb(11,"th"),A.Gc(12," Description "),A.Rb(),A.Sb(13,"th"),A.Gc(14," Status "),A.Rb(),A.Sb(15,"th",8),A.Gc(16," Action "),A.Rb(),A.Rb(),A.Rb(),A.Sb(17,"tbody"),A.Ec(18,vn,16,11,"tr",9),A.hc(19,"async"),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc(2);A.zb(7),A.nc("ngModel",n.selectall),A.zb(11),A.nc("ngForOf",A.ic(19,3,n.Data$))("ngForTrackBy",n.getKey)}}function yn(t,e){1&t&&A.Nb(0,"app-norecord")}function mn(t,e){if(1&t&&(A.Sb(0,"div"),A.Ec(1,Sn,20,5,"div",0),A.hc(2,"async"),A.Ec(3,yn,1,0,"app-norecord",0),A.hc(4,"async"),A.Rb()),2&t){var i=A.gc();A.zb(1),A.nc("ngIf",A.ic(2,2,i.Data$).length>0),A.zb(2),A.nc("ngIf",0===A.ic(4,4,i.Data$).length)}}var On=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.MailTypes=[],this.SelectedItems=new A.n,this.selectall=!1,this.fieldstates={templatekey:!1,description:!1,type:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"getKey",value:function(t,e){return e.id}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"edit",value:function(t,e){console.log("edit clicked")}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(A.Mb(vt.a),A.Mb(x.a),A.Mb(St))},t.\u0275cmp=A.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",MailTypes:"MailTypes"},outputs:{SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(A.Nb(0,"alert"),A.Ec(1,pn,1,0,"app-loader",0),A.hc(2,"async"),A.Ec(3,mn,5,6,"div",0),A.hc(4,"async"),A.Sb(5,"div",1),A.Sb(6,"pagination",2),A.ec("OnSelection",(function(t){return e.PaginationChange(t)})),A.hc(7,"async"),A.hc(8,"async"),A.hc(9,"async"),A.Rb(),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",A.ic(2,5,e.loading$)),A.zb(2),A.nc("ngIf",!A.ic(4,7,e.loading$)),A.zb(3),A.nc("currentPage",A.ic(7,9,e.pagination$).currentPage)("totalRecords",A.ic(8,11,e.pagination$).totalRecords)("pageSize",A.ic(9,13,e.pagination$).pageSize))},directives:[Gt.a,y.n,zt.a,xt.a,O.a,O.n,O.q,y.m,R.e,te.a],pipes:[y.b],encapsulation:2,data:{animation:[Object(Zt.k)("fadeIn",[Object(Zt.j)(":enter",[Object(Zt.i)({opacity:"0",background:"#f5fb98"}),Object(Zt.e)("300ms ease-out",Object(Zt.f)([Object(Zt.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Zt.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Zt.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(T.a)([Object(D.e)(["mailtemplates","posts"])],t.prototype,"Data$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","loading"])],t.prototype,"loading$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","pagination"])],t.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","selectall"])],t.prototype,"selectAll$",void 0),t}();function Rn(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",2),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function kn(t,e){if(1&t){var i=A.Tb();A.Sb(0,"div"),A.Sb(1,"div",3),A.Sb(2,"div",4),A.Sb(3,"app-navigation-v2",5),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)}))("SearchSelection",(function(t){return A.xc(i),A.gc().FindRecords(t)})),A.Rb(),A.Rb(),A.Sb(4,"div",6),A.Sb(5,"app-toolbar-v2",7),A.ec("Action",(function(t){return A.xc(i),A.gc().toolbaraction(t)})),A.Rb(),A.Sb(6,"div",8),A.Sb(7,"app-list",9),A.ec("SelectedItems",(function(t){return A.xc(i),A.gc().getSelectedItems(t)})),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()}if(2&t){var n=A.gc();A.zb(3),A.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),A.zb(2),A.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),A.zb(2),A.nc("MailTypes",n.MailTypes)("isActionGranded",n.isActionGranded)}}var An,In=((An=function(){function t(e,i,n,o,c,s,a,r){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.coreActions=c,this.permission=s,this.actions=a,this.router=r,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.MailTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.configs$.subscribe((function(e){if(t.Configs=e,void 0!==e.general)for(var i in e.general.mailtemplates)t.MailTypes.push({id:e.general.mailtemplates[i],title:i})})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.SearchOptions.actions=this.settingService.initialize_actions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){if(t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e)),void 0!==t.Configs.general)for(var i in t.Configs.general.mailtemplates)"-1"===e.type.toString()?t.ToolbarOptions.left_options[0].title="[All]":t.Configs.general.mailtemplates[i]===e.type&&(t.ToolbarOptions.left_options[1].title="["+i+"]")})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"add":return void this.AddRecord();case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"m_markas":return void this.ProcessActions(t.value);case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){this.router.navigate(["/settings/mailtemplates/process/"])}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0){var s=o.value;s.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(s.isdeleted=!0)}}catch(a){i=!0,n=a}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||An)(A.Mb(gt),A.Mb(St),A.Mb(m.b),A.Mb(w.a),A.Mb(x.a),A.Mb(kt.a),A.Mb(vt.a),A.Mb(R.c))},An.\u0275cmp=A.Gb({type:An,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"MailTypes","isActionGranded","SelectedItems"]],template:function(t,e){1&t&&(A.Sb(0,"div",0),A.Ec(1,Rn,3,0,"div",1),A.Ec(2,kn,8,6,"div",1),A.Rb()),2&t&&(A.zb(1),A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,jt.a,On],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["mailtemplates","filteroptions"])],An.prototype,"filteroptions$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","itemsselected"])],An.prototype,"isItemSelected$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","isloaded"])],An.prototype,"isloaded$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","records"])],An.prototype,"records$",void 0),Object(T.a)([Object(D.e)(["mailtemplates","pagination"])],An.prototype,"pagination$",void 0),Object(T.a)([Object(D.e)(["users","auth"])],An.prototype,"auth$",void 0),Object(T.a)([Object(D.e)(["configuration","configs"])],An.prototype,"configs$",void 0),An);function Cn(t,e){1&t&&(A.Sb(0,"div"),A.Sb(1,"h2",1),A.Gc(2,"Access Denied"),A.Rb(),A.Rb())}function wn(t,e){1&t&&A.Nb(0,"app-loader")}function _n(t,e){if(1&t){var i=A.Tb();A.Sb(0,"dynamic-modal-form",11),A.ec("OnSubmit",(function(t){return A.xc(i),A.gc(2).SubmitForm(t)})),A.Rb()}if(2&t){var n=A.gc(2);A.nc("controls",n.controls)("showLoader",n.showLoader)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function jn(t,e){if(1&t&&(A.Sb(0,"div"),A.Sb(1,"div",2),A.Sb(2,"div",3),A.Sb(3,"div",4),A.Nb(4,"app-navigation-v2",5),A.Rb(),A.Rb(),A.Sb(5,"div",6),A.Sb(6,"div",4),A.Sb(7,"div",7),A.Sb(8,"h4",8),A.Gc(9),A.Rb(),A.Rb(),A.Sb(10,"div",9),A.Ec(11,wn,1,0,"app-loader",0),A.Ec(12,_n,1,5,"dynamic-modal-form",10),A.Rb(),A.Rb(),A.Rb(),A.Rb(),A.Rb()),2&t){var i=A.gc();A.zb(4),A.nc("Options",i.SearchOptions),A.zb(5),A.Hc(i.formHeading),A.zb(2),A.nc("ngIf",i.showLoader),A.zb(1),A.nc("ngIf",!i.showLoader)}}var Gn,zn,xn,Mn=((Gn=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.MailTemplateID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Mail Tempalte",this.submitText="Add Template",this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539516196296","1539516133459",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539516196296",e.Role)&&(t.isActionGranded=!0))})),this.configs$.subscribe((function(e){t.Configs=e})),this.route.params.subscribe((function(e){t.MailTemplateID=Number.parseInt(e.id,10),t.MailTemplateID>0?(t.formHeading="Update Mail Template",t.submitText="Update Template",t.LoadInfo()):t.initializeControls(t.settingService.getInitObject())})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.MailTemplateID).subscribe((function(e){t.initializeControls(e.posts),t.showLoader=!1}))}},{key:"initializeControls",value:function(t){this.controls=this.formService.getControls(t,this.Configs.general.mailtemplates)}},{key:"SubmitForm",value:function(t){var e=this;if(this.isActionGranded){this.showLoader=!0;var i="Added";this.MailTemplateID>0&&(t.id=this.MailTemplateID,i="Updated"),this.dataService.AddRecord(t).subscribe((function(t){console.log("returned data is "),console.log(t),"error"===t.status?e.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(e.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),e.actions.reloadList(),e.router.navigate(["/settings/mailtemplates/"])),e.showLoader=!1}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Gn)(A.Mb(gt),A.Mb(St),A.Mb(w.a),A.Mb(x.a),A.Mb(vt.a),A.Mb(R.a),A.Mb(mt),A.Mb(kt.a),A.Mb(R.c))},Gn.\u0275cmp=A.Gb({type:Gn,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&A.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(A.Ec(0,Cn,3,0,"div",0),A.Ec(1,jn,13,4,"div",0)),2&t&&(A.nc("ngIf",!e.isAccessGranted),A.zb(1),A.nc("ngIf",e.isAccessGranted))},directives:[y.n,_t.a,xt.a,Wt.a],encapsulation:2,data:{animation:[Qt.a]}}),Object(T.a)([Object(D.e)(["users","auth"])],Gn.prototype,"auth$",void 0),Object(T.a)([Object(D.e)(["configuration","configs"])],Gn.prototype,"configs$",void 0),Gn),$n=[{path:"",component:Rt,data:{title:"Settings Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Management"}]},children:[{path:"",component:wt},{path:"blockip",children:[{path:"",component:ue}],data:{title:"BlockIP Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Block IP",url:"/settings/blockip"},{title:"Management"}]}},{path:"categories",children:[{path:"",component:ze},{path:"process/:id",component:Fe},{path:"process/add/:parentid",component:Fe},{path:"process",component:Fe}],data:{title:"Categories Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Categories",url:"/settings/categories"},{title:"Management"}]}},{path:"configurations",children:[{path:"",component:qe},{path:"filter/:type",component:qe}],data:{title:"Configuration Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Configurations",url:"/settings/configurations"},{title:"Management"}]}},{path:"dictionary",children:[{path:"",component:Ti}],data:{title:"Dictionary Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Dictionary",url:"/settings/dictionary"},{title:"Management"}]}},{path:"roles",children:[{path:"",component:hi},{path:"process/:id",component:ki}],data:{title:"Roles Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Roles",url:"/settings/roles"},{title:"Management"}]}},{path:"language",children:[{path:"",component:Zi}],data:{title:"Language Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Language",url:"/settings/language"},{title:"Management"}]}},{path:"log",children:[{path:"",component:un}],data:{title:"Log Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Log",url:"/settings/log"},{title:"Management"}]}},{path:"mailtemplates",children:[{path:"",component:In},{path:"process/:id",component:Mn},{path:"process",component:Mn}],data:{title:"Mailtemplates Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Mail Templates",url:"/settings/mailtemplates"},{title:"Management"}]}},{path:"advertisements",data:{title:"Advertisement Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Advertisement",url:"/settings/advertisements"},{title:"Management"}]},children:[{path:"",component:qt}]}]}],Ln=((xn=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:xn}),xn.\u0275inj=A.Jb({factory:function(t){return new(t||xn)},imports:[[R.f.forChild($n)],R.f]}),xn),Nn=((zn=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:zn}),zn.\u0275inj=A.Jb({factory:function(t){return new(t||zn)},providers:[nt,ct,st,ot.a],imports:[[y.c,k.a,O.i]]}),zn);i.d(e,"SettingsModule",(function(){return Pn}));var Fn,Pn=((Fn=function t(){_classCallCheck(this,t)}).\u0275mod=A.Kb({type:Fn}),Fn.\u0275inj=A.Jb({factory:function(t){return new(t||Fn)},imports:[[y.c,m.c,I,$,P,J,Q,it,bt,ft,yt,Ln,at,Ot,K,Nn]]}),Fn)}}]);