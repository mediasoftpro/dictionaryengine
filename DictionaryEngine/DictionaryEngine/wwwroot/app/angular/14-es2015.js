(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{zwdw:function(t,e,i){"use strict";i.r(e);var s=i("ofXK"),o=i("1kSV"),n=i("3Pt+"),c=i("tyNb"),a=i("o+qO"),r=i("fXoL");let d=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[s.c,a.a,n.i,c.f]]}),t})();var l=i("II9H"),b=i("nD3/"),p=i("1pjZ");let h=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/ads/load",getinfo:i+"api/ads/getinfo",action:i+"api/ads/action",proc:i+"api/ads/proc"},this.init_toolbar_options(),this.init_search_options()}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!1,showcheckAll:!0,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Adult",ismultiple:!1,icon:"",value:1,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0},{title:"Non Adult",ismultiple:!1,icon:"",value:0,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0}),this.toolbarOptions.right_options.push({title:"Order",ismultiple:!0,position:"right",icon:"icon-sort-by-order-alt position-left",Options:[{id:"0",title:"ID",value:"id",isclick:!0,clickevent:"orderby",tooltip:"Order by id"},{id:"1",title:"Type",value:"type",isclick:!0,clickevent:"orderby",tooltip:"Order by type"}]})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,navList:this.coreService.getSettingsNavList(),actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var g=i("tk/3"),u=i("DoUi"),f=i("LEd3");let S=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}UpdateRecord(t){this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(h),r.ac(g.b),r.ac(u.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[h,S,u.a],imports:[[s.c,a.a,n.i]]}),t})(),v=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/ip/load",getinfo:i+"api/ip/getinfo",action:i+"api/ip/action",proc:i+"api/ip/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Add",tooltip:"Block new ip adress",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,ipaddress:""}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var O=i("OMwW");let R=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}UpdateRecord(t){this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(v),r.ac(g.b),r.ac(O.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[v,R,O.a],imports:[[s.c,a.a,n.i]]}),t})();var A=i("mrSG"),I=i("Usal");let w=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e,this.Configs={};const i=e.getConfig("host");this.apiOptions={load:i+"api/categories/load",load_dropdown:i+"api/categories/load_dropdown",getinfo:i+"api/categories/getinfo",action:i+"api/categories/action",proc:i+"api/categories/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(console.log("configs defined"),this.Configs=t.general.category,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({id:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();var k=i("t+rW");let j=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}LoadDropdownCategories(t){const e=this.settings.getApiOptions().load_dropdown;this.http.post(e,{type:t}).subscribe(t=>{this.actions.loadDropdownCategories(t)},t=>{this.actions.loadFailed(t)})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(w),r.ac(g.b),r.ac(k.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[w,j,k.a],imports:[[s.c,a.a,n.i,c.f]]}),t})();var z=i("dNLF");let C=(()=>{class t{constructor(t,e){this.config=t,this.coreService=e}getControls(t,e,i){const s=[];s.push(new z.g({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),s.push(new z.g({key:"term",label:"Term",value:t.term,minLength:3,maxLength:150,order:2}));const o=[];for(const c in i)o.push({key:i[c].toString(),value:c});s.push(new z.b({key:"type",label:"Select Type",required:!0,value:t.type.toString(),options:o,order:3})),s.push(new z.b({key:"parentid",label:"Select Parent",required:!0,value:t.parentid.toString(),options:[],order:4})),s.push(new z.g({key:"priority",label:"Priority",value:t.priority.toString(),minLength:3,maxLength:150,order:5})),s.push(new z.h({key:"description",label:"Description",value:t.description,tinymiceOptions:this.coreService.prepareInitEditorSettings(),required:!1,order:6})),s.push(new z.b({key:"isenabled",label:"Select Status",required:!0,value:t.isenabled.toString(),options:[{key:"1",value:"Public"},{key:"0",value:"Private"}],order:7})),s.push(new z.g({key:"icon",label:"Icon",value:t.icon,minLength:1,maxLength:100,order:8,helpblock:"Place font-awsome icon to display with selected category"}));const n={cropped_picture:t.picturename,croptype:1,upload_id:"cover_upload",colcss:"col-md-8",settings:{width:e.category_thumbnail_width,height:e.category_thumbnail_height},uploadbtntext:"Upload Image",btncss:"btn btn-success"};return s.push(new z.c({key:"picturename",label:"",value:t.picturename,required:!1,cropperOptions:n,helpblock:"Cropsize: "+n.settings.width+"x"+n.settings.height,order:9})),s.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(p.a),r.ac(b.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[w,j,C,k.a],imports:[[s.c,a.a,n.i]]}),t})();var M=i("noRM"),$=i("aRip"),_=i("Pfcf"),L=i("nT4z");let N=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[M.a,$.a,_.a,L.a],imports:[[s.c,a.a,n.i]]}),t})(),F=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/dictionary/load",getinfo:i+"api/dictionary/getinfo",action:i+"api/dictionary/action",proc:i+"api/dictionary/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[{id:1,value:2,group:"type",caption:"Type",attr:"type",options:[{id:4,title:"Screening Word",value:0},{id:5,title:"Restricted Usernams",value:1}]}],categories:[],selectedcategory:"",singleaction:!0,actions:this.init_actions()}}init_actions(){return[{id:1,title:"Add Value",tooltip:"Add new value in dictionary",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,value:"",type:0}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var P=i("6Trk");let T=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){console.log("filter options >>>>"),console.log(t);const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}UpdateRecord(t){this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(F),r.ac(g.b),r.ac(P.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[F,T,P.a],imports:[[s.c,a.a,n.i]]}),t})(),E=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load_roles:i+"api/role/load",load_objects:i+"api/roleobject/load",getinfo:i+"api/role/getinfo",add_role:i+"api/role/proc",add_object:i+"api/roleobject/proc",delete_role:i+"api/role/action",delete_object:i+"api/roleobject/action",update_permission:i+"api/rolepermission/proc"},this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitRoleObject(){return{id:0,rolename:""}}getInitRoleObjectObject(){return{id:0,objectname:"",description:"",uniqueid:""}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var V=i("JgvU");let U=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRoles(){const t=this.settings.getApiOptions().load_roles;this.actions.loadStarted(),this.http.post(t,{}).subscribe(t=>{this.actions.loadSucceeded(t)},t=>{this.actions.loadFailed(t)})}LoadObjects(){const t=this.settings.getApiOptions().load_objects;this.actions.loadObjectStarted(),this.http.post(t,{}).subscribe(t=>{this.actions.loadObjectSucceeded(t)},t=>{this.actions.loadObjectFailed(t)})}AddRole(t){console.log(this.settings.getApiOptions().add_role),this.http.post(this.settings.getApiOptions().add_role,JSON.stringify(t)).subscribe(t=>{this.actions.addRole(t.record)},t=>{this.actions.loadObjectFailed(t)})}AddObject(t){this.http.post(this.settings.getApiOptions().add_object,JSON.stringify(t)).subscribe(e=>{t.id>0?this.actions.updateObject(e.record):this.actions.addObject(e.record)},t=>{this.actions.loadObjectFailed(t)})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}UpdatePermission(t){const e=this.settings.getApiOptions().update_permission;return this.http.post(e,JSON.stringify(t))}DeleteRecord(t,e,i,s){t.actionstatus="delete";const o=[];o.push(t),this.ProcessActions(o,"delete",i,s)}ProcessActions(t,e,i,s){1===s?this.actions.applyRoleChanges({SelectedItems:t,isenabled:e}):this.actions.applyObjectChanges({SelectedItems:t,isenabled:e}),this.http.post(i,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(E),r.ac(g.b),r.ac(V.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t{getRoleControls(t){const e=[];return e.push(new z.g({key:"rolename",label:"Role Name",value:t.rolename,required:!0,order:0,maxLength:100,placeholder:"Enter Role Name"})),e.sort((t,e)=>t.order-e.order)}getObjectControls(t){const e=[];return e.push(new z.g({key:"objectname",label:"Object Name",value:t.objectname,required:!0,order:0,maxLength:100,placeholder:"Enter Object Name"})),e.push(new z.f({key:"description",label:"Description",value:t.description,order:1,maxLength:1e3,placeholder:"Enter Short Description (Optional)"})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),H=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[E,U,J,V.a],imports:[[s.c,a.a,n.i,c.f]]}),t})(),B=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/languages/load",getinfo:i+"api/languages/getinfo",action:i+"api/languages/action",proc:i+"api/languages/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!1,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var K=i("dmcs");let q=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Operation Performed",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(B),r.ac(g.b),r.ac(K.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[B,q,K.a],imports:[[s.c,a.a,n.i]]}),t})(),W=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/log/load",getinfo:i+"api/log/getinfo",action:i+"api/log/action",proc:i+"api/log/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Delete All",tooltip:"Delete all logs",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-danger",event:"deleteall"}]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var X=i("TgGP");let Q=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}DeleteAllRecords(){this.actions.removeAllRecords(),this.coreActions.refreshListStats({totalrecords:0,pagesize:20,pagenumber:1}),this.http.post(this.settings.getApiOptions().action,JSON.stringify([{id:1,actionstatus:"deleteall"}])).subscribe(t=>{this.coreActions.Notify({title:"Logs cleared out",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(W),r.ac(g.b),r.ac(X.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[W,Q,X.a],imports:[[s.c,a.a,n.i]]}),t})(),tt=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e,this.Configs={};const i=e.getConfig("host");this.apiOptions={load:i+"api/mailtemplates/load",getinfo:i+"api/mailtemplates/getinfo",action:i+"api/mailtemplates/action",proc:i+"api/mailtemplates/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(console.log("configs defined"),this.Configs=t.general.mailtemplates,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Template",tooltip:"Add new mail template",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({value:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,templatekey:"",description:"",subjecttags:"",subject:"",tags:"",contents:"",type:"0"}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a),r.ac(p.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();var et=i("GrDw");let it=(()=>{class t{constructor(t,e,i,s){this.settings=t,this.http=e,this.actions=i,this.coreActions=s}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(tt),r.ac(g.b),r.ac(et.a),r.ac(f.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[tt,it,et.a],imports:[[s.c,a.a,n.i,c.f]]}),t})(),ot=(()=>{class t{constructor(t){this.coreService=t}getControls(t,e){const i=[];let s=!1;t.id>0&&(s=!0),i.push(new z.g({key:"templatekey",label:"Template Key",value:t.templatekey,required:!0,minLength:3,maxLength:25,order:1,disabled:s,helpblock:"Unique key used to fetch mail template within site events. e.g REGUSER for user regiration"})),i.push(new z.f({key:"description",label:"Description",value:t.description,required:!0,helpblock:"A block of help text that breaks onto a new line and may extend beyond one line.",order:2})),i.push(new z.g({key:"subjecttags",label:"Subject Tags",value:t.subjecttags,required:!0,order:3,maxLength:100,helpblock:"Enter subject tags for informative purpose e.g [username], [email], that may be used in template subject for dynamic text processing"})),i.push(new z.g({key:"subject",label:"Subject",value:t.subject,required:!0,maxLength:150,order:4})),i.push(new z.g({key:"tags",label:"Content Tags",value:t.tags,required:!0,order:5,maxLength:100,helpblock:"Enter tags for informative purpose e.g [username], [email], that may be used in template body for dynamic text processing"})),i.push(new z.h({key:"contents",label:"Contents",value:t.contents,tinymiceOptions:this.coreService.prepareInitAdvacneEditorSettings(),required:!0,order:6}));const o=[];for(const n in e)o.push({key:e[n].toString(),value:n});return i.push(new z.b({key:"type",label:"Type",value:t.type,options:o,order:7})),i.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[tt,it,ot,et.a],imports:[[s.c,a.a,n.i]]}),t})(),ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:[c.g],encapsulation:2}),t})();var at=i("Hjmt");function rt(t,e){if(1&t&&r.Nb(0,"i"),2&t){const t=r.gc().$implicit;r.Bb(t.css)}}function dt(t,e){if(1&t&&(r.Sb(0,"li",8),r.Sb(1,"a",9),r.Ec(2,rt,1,3,"i",10),r.Gc(3),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.zb(1),r.oc("routerLink",t.url),r.oc("title",t.title),r.zb(1),r.nc("ngIf",""!=t.css),r.zb(1),r.Ic(" ",t.title," ")}}let lt=(()=>{class t{constructor(t,e){this.coreService=t,this.permission=e,this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.NavList=this.coreService.getSettingsNavList()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(b.a),r.Mb(at.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"col-xlg-4","col-lg-6","col-md-6"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],[1,"col-xlg-8","col-lg-6","col-md-6"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",0),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Sb(6,"ul",5),r.Ec(7,dt,4,4,"li",6),r.Rb(),r.Rb(),r.Rb(),r.Nb(8,"div",7),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(7),r.nc("ngForOf",e.NavList))},directives:[s.m,c.d,c.e,s.n],encapsulation:2}),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var bt=i("/H0e"),pt=i("4HLj"),ht=i("QxdJ"),gt=i("cScK"),ut=i("RDfn");function ft(t,e){1&t&&r.Nb(0,"app-loader")}function St(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",13),r.Sb(2,"div",14),r.Sb(3,"div"),r.Sb(4,"strong",15),r.Gc(5),r.Rb(),r.Nb(6,"br"),r.Sb(7,"textarea",16),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc().$implicit.adscript=e})),r.Rb(),r.Rb(),r.Sb(8,"div",17),r.Sb(9,"button",18),r.ec("click",(function(){r.xc(t);const e=r.gc().$implicit;return r.gc(3)._UpdateRecord(e)})),r.Gc(10," Save "),r.Rb(),r.Sb(11,"button",19),r.ec("click",(function(e){r.xc(t);const i=r.gc().$implicit;return r.gc(3).toggleEditView(i,e)})),r.Gc(12," Cancel "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc().$implicit;r.zb(5),r.Hc(t.name),r.zb(2),r.nc("ngModel",t.adscript)}}function mt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"a",20),r.ec("click",(function(e){r.xc(t);const i=r.gc().$implicit;return r.gc(3).toggleEditView(i,e),!1})),r.Gc(2),r.Rb(),r.Rb()}if(2&t){const t=r.gc().$implicit;r.zb(2),r.Hc(t.name)}}function vt(t,e){1&t&&(r.Sb(0,"span",21),r.Gc(1,"Adult"),r.Rb())}function Ot(t,e){1&t&&(r.Sb(0,"span",22),r.Gc(1,"Non Adult"),r.Rb())}function Rt(t,e){if(1&t&&(r.Sb(0,"tr"),r.Sb(1,"td",9),r.Ec(2,St,13,2,"div",0),r.Ec(3,mt,3,1,"div",0),r.Rb(),r.Sb(4,"td",10),r.Ec(5,vt,2,0,"span",11),r.Ec(6,Ot,2,0,"span",12),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.zb(2),r.nc("ngIf",t.editview),r.zb(1),r.nc("ngIf",!t.editview),r.zb(2),r.nc("ngIf",1==t.type),r.zb(1),r.nc("ngIf",0==t.type)}}function yt(t,e){if(1&t&&(r.Sb(0,"div",6),r.Sb(1,"table",7),r.Sb(2,"thead"),r.Sb(3,"tr"),r.Sb(4,"th"),r.Gc(5,"Title"),r.Rb(),r.Sb(6,"th"),r.Gc(7,"Type"),r.Rb(),r.Rb(),r.Rb(),r.Sb(8,"tbody"),r.Ec(9,Rt,7,4,"tr",8),r.hc(10,"async"),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc(2);r.zb(9),r.nc("ngForOf",r.ic(10,2,t.Data$))("ngForTrackBy",t.getKey)}}function At(t,e){1&t&&(r.Sb(0,"div",23),r.Sb(1,"div",24),r.Sb(2,"div",25),r.Sb(3,"h3",26),r.Gc(4,"No Records Found!"),r.Rb(),r.Rb(),r.Rb(),r.Rb())}function It(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,yt,11,4,"div",4),r.hc(2,"async"),r.Ec(3,At,5,0,"div",5),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0==r.ic(4,4,t.Data$).length)}}let wt=(()=>{class t{constructor(t,e,i){this.actions=t,this.dataService=e,this.coreActions=i,this.isActionGranded=!1}ngOnInit(){}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}getKey(t,e){return e.id}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(u.a),r.Mb(S),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},decls:11,vars:15,consts:[[4,"ngIf"],[2,"padding","15px 10px"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],["class","row row-wrap",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-wrap"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"width","80%"],[2,"width","20%"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"m-b-3"],["rows","4","placeholder","enter script here",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["href","",3,"click"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[1,"row"],[1,"col-md-12"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(r.Ec(0,ft,1,0,"app-loader",0),r.hc(1,"async"),r.Sb(2,"div",1),r.Nb(3,"alert"),r.Ec(4,It,5,6,"div",0),r.hc(5,"async"),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"pagination",3),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(8,"async"),r.hc(9,"async"),r.hc(10,"async"),r.Rb(),r.Rb()),2&t&&(r.nc("ngIf",r.ic(1,5,e.loading$)),r.zb(4),r.nc("ngIf",!r.ic(5,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(8,9,e.pagination$).currentPage)("totalRecords",r.ic(9,11,e.pagination$).totalRecords)("pageSize",r.ic(10,13,e.pagination$).pageSize))},directives:[s.n,ht.a,gt.a,ut.a,s.m,n.c,n.n,n.q],pipes:[s.b],encapsulation:2}),Object(A.a)([Object(I.e)(["advertisement","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["advertisement","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["advertisement","pagination"])],t.prototype,"pagination$",void 0),t})();function kt(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function jt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",5),r.Sb(3,"app-navigation-v2",6),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",7),r.Sb(5,"app-toolbar-v2",8),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",9),r.Sb(7,"app-list",10),r.ec("View",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("isActionGranded",t.isActionGranded)}}let Gt=(()=>{class t{constructor(t,e,i,s){this.settingService=t,this.dataService=e,this.permission=i,this.actions=s,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.isloaded$.subscribe(t=>{t||this.dataService.LoadRecords(this.FilterOptions)})}toolbaraction(t){switch(t.action){case"f_type":this.actions.applyFilter({attr:"type",value:t.value})}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(h),r.Mb(S),r.Mb(at.a),r.Mb(u.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,kt,3,0,"div",3),r.Ec(4,jt,8,5,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,wt],encapsulation:2}),Object(A.a)([Object(I.e)(["advertisement","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["advertisement","categories"])],t.prototype,"categories$",void 0),Object(A.a)([Object(I.e)(["advertisement","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})(),zt=(()=>{class t{getControls(t){const e=[];return e.push(new z.g({key:"ipaddress",label:"IP Address",value:t.ipaddress,required:!0,minLength:5,maxLength:40,order:1})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();var Ct=i("+kG/");let xt=(()=>{class t{constructor(t,e,i,s){this.activeModal=t,this.service=e,this.dataService=i,this.coreActions=s,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.showLoader=!0,this.dataService.AddRecord(t).subscribe(e=>{this.showLoader=!1,this.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),this.activeModal.close({data:t})},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.a),r.Mb(zt),r.Mb(R),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.yb([zt,R])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h4",1),r.Gc(2),r.Rb(),r.Sb(3,"button",2),r.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Sb(4,"span",3),r.Gc(5,"\xd7"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"dynamic-modal-form",4),r.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Rb()),2&t&&(r.zb(2),r.Hc(e.title),r.zb(4),r.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Ct.a],encapsulation:2}),t})();var Mt=i("pdjO"),$t=i("R0Ic"),_t=i("aIzJ");function Lt(t,e){1&t&&r.Nb(0,"app-loader")}function Nt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",21),r.Sb(2,"div",22),r.Sb(3,"div"),r.Sb(4,"input",23),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc().$implicit.ipaddress=e})),r.Rb(),r.Rb(),r.Sb(5,"div",24),r.Sb(6,"button",25),r.ec("click",(function(){r.xc(t);const e=r.gc().$implicit;return r.gc(3)._UpdateRecord(e)})),r.Gc(7," Save "),r.Rb(),r.Sb(8,"button",26),r.ec("click",(function(e){r.xc(t);const i=r.gc().$implicit;return r.gc(3).toggleEditView(i,e)})),r.Gc(9," Cancel "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc().$implicit;r.zb(4),r.nc("ngModel",t.ipaddress)}}function Ft(t,e){if(1&t&&(r.Sb(0,"div"),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Ic(" ",t.ipaddress," ")}}function Pt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",11),r.Sb(1,"td",12),r.Sb(2,"div",5),r.Sb(3,"input",13),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.xc(t),r.gc(3).checkChange()})),r.Rb(),r.Nb(4,"label",14),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Ec(6,Nt,10,1,"div",0),r.Ec(7,Ft,2,1,"div",0),r.Rb(),r.Sb(8,"td"),r.Sb(9,"span",15),r.Nb(10,"i",16),r.Rb(),r.Gc(11),r.hc(12,"date"),r.Rb(),r.Sb(13,"td",9),r.Sb(14,"a",17),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(3).toggleEditView(s,i),!1})),r.Nb(15,"i",18),r.Rb(),r.Sb(16,"a",19),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(3).delete(s,o,i),!1})),r.Nb(17,"i",20),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(3),r.oc("id",t.id),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",t.id),r.zb(2),r.nc("ngIf",t.editview),r.zb(1),r.nc("ngIf",!t.editview),r.zb(4),r.Ic(" ",r.jc(12,8,t.created_at,"fullDate")," ")}}function Tt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th"),r.Sb(6,"div",5),r.Sb(7,"input",6),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(2).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(2).processChange()})),r.Rb(),r.Nb(8,"label",7),r.Rb(),r.Rb(),r.Sb(9,"th"),r.Sb(10,"span",8),r.Gc(11,"IP Address"),r.Rb(),r.Rb(),r.Sb(12,"th"),r.Sb(13,"span",8),r.Gc(14,"Date"),r.Rb(),r.Rb(),r.Sb(15,"th",9),r.Gc(16," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"tbody"),r.Ec(18,Pt,18,11,"tr",10),r.hc(19,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(7),r.nc("ngModel",t.selectall),r.zb(11),r.nc("ngForOf",r.ic(19,3,t.Data$))("ngForTrackBy",t.getKey)}}function Dt(t,e){1&t&&r.Nb(0,"app-norecord")}function Et(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,Tt,20,5,"div",0),r.hc(2,"async"),r.Ec(3,Dt,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let Vt=(()=>{class t{constructor(t,e,i){this.actions=t,this.dataService=e,this.coreActions=i,this.isActionGranded=!1,this.selectall=!1,this.SelectedItems=new r.n,this.View=new r.n}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}getKey(t,e){return e.id}processChange(){this.actions.selectAll(this.selectall)}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(O.a),r.Mb(R),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{SelectedItems:"SelectedItems",View:"View"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"m-r-5"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update IP Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,Lt,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,Et,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,n.a,n.n,n.q,s.m,n.c,_t.a],pipes:[s.b,s.e],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["blockip","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["blockip","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["blockip","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["blockip","selectall"])],t.prototype,"selectAll$",void 0),t})();function Ut(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function Jt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",5),r.Sb(3,"app-navigation-v2",6),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",7),r.Sb(5,"app-toolbar-v2",8),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",9),r.Sb(7,"app-list",10),r.ec("View",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SelectedItems",(function(e){return r.xc(t),r.gc().getSelectedItems(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("isActionGranded",t.isActionGranded)}}let Ht=(()=>{class t{constructor(t,e,i,s,o,n){this.settingService=t,this.dataService=e,this.modalService=i,this.permission=s,this.coreActions=o,this.actions=n,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Block IP",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}AddRecord(){const t=this.modalService.open(xt,{backdrop:!1});t.componentInstance.Info={title:"Block IP Address",data:this.settingService.getInitObject()},t.result.then(t=>{this.actions.addRecord({id:0,ipaddress:t.data.ipaddress,created_at:new Date})},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t;let e=!1;this.SelectedItems.length>0&&(e=!0),this.actions.updateItemsSelectionStatus(e),console.log("items selected"),console.log(this.SelectedItems)}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(v),r.Mb(R),r.Mb(o.b),r.Mb(at.a),r.Mb(f.a),r.Mb(O.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,Ut,3,0,"div",3),r.Ec(4,Jt,8,5,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,Vt],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["blockip","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["blockip","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(A.a)([Object(I.e)(["blockip","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["blockip","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["blockip","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function Bt(t,e){1&t&&r.Nb(0,"app-loader")}function Kt(t,e){if(1&t&&r.Nb(0,"i"),2&t){const t=r.gc().$implicit;r.Bb(t.icon)}}function qt(t,e){if(1&t&&(r.Sb(0,"span"),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Hc(t.title)}}function Yt(t,e){if(1&t&&(r.Sb(0,"span"),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Hc(t.term)}}function Wt(t,e){if(1&t&&(r.Sb(0,"span",25),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Hc(t.title)}}function Xt(t,e){if(1&t&&(r.Sb(0,"span"),r.Ec(1,Wt,2,1,"span",17),r.Rb()),2&t){const t=e.$implicit,i=r.gc().$implicit;r.zb(1),r.nc("ngIf",i.type===t.id)}}function Qt(t,e){1&t&&(r.Sb(0,"span",26),r.Gc(1,"Normal"),r.Rb())}function Zt(t,e){1&t&&(r.Sb(0,"span",26),r.Gc(1,"Active"),r.Rb())}function te(t,e){1&t&&(r.Sb(0,"span",25),r.Gc(1,"Inactive"),r.Rb())}const ee=function(t){return[t]};function ie(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",9),r.Sb(1,"td",10),r.Sb(2,"div",5),r.Sb(3,"input",11),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.xc(t),r.gc(3).checkChange()})),r.Rb(),r.Nb(4,"label",12),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Gc(6),r.Rb(),r.Sb(7,"td"),r.Ec(8,Kt,1,3,"i",13),r.Gc(9),r.Sb(10,"a",14),r.Gc(11),r.Rb(),r.Rb(),r.Sb(12,"td"),r.Ec(13,qt,2,1,"span",0),r.Ec(14,Yt,2,1,"span",0),r.Rb(),r.Sb(15,"td"),r.Ec(16,Xt,2,1,"span",15),r.Rb(),r.Sb(17,"td"),r.Ec(18,Qt,2,0,"span",16),r.Rb(),r.Sb(19,"td"),r.Ec(20,Zt,2,0,"span",16),r.Ec(21,te,2,0,"span",17),r.Rb(),r.Sb(22,"td",18),r.Sb(23,"a",19),r.Nb(24,"i",20),r.Rb(),r.Sb(25,"a",21),r.Nb(26,"i",22),r.Rb(),r.Sb(27,"a",23),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(3).delete(s,o,i),!1})),r.Nb(28,"i",24),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,i=r.gc(3);r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(3),r.oc("id",t.id),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",t.id),r.zb(2),r.Ic(" ",t.id," "),r.zb(2),r.nc("ngIf",""!=t.icon),r.zb(1),r.Ic(" ",t.clevel," "),r.zb(1),r.nc("routerLink",r.rc(18,ee,"/settings/categories/process/"+t.id)),r.zb(1),r.Hc(t.title),r.zb(2),r.nc("ngIf",""==t.term),r.zb(1),r.nc("ngIf",""!=t.term),r.zb(2),r.nc("ngForOf",i.category_types),r.zb(2),r.nc("ngIf",0==t.mode),r.zb(2),r.nc("ngIf",1==t.isenabled),r.zb(1),r.nc("ngIf",0==t.isenabled),r.zb(2),r.nc("routerLink",r.rc(20,ee,"/settings/categories/process/add/"+t.id)),r.zb(2),r.nc("routerLink",r.rc(22,ee,"/settings/categories/process/"+t.id))}}function se(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th"),r.Sb(6,"div",5),r.Sb(7,"input",6),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(2).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(2).processChange()})),r.Rb(),r.Nb(8,"label",7),r.Rb(),r.Rb(),r.Sb(9,"th"),r.Gc(10,"ID"),r.Rb(),r.Sb(11,"th"),r.Gc(12,"Name"),r.Rb(),r.Sb(13,"th"),r.Gc(14,"Term"),r.Rb(),r.Sb(15,"th"),r.Gc(16,"Type"),r.Rb(),r.Sb(17,"th"),r.Gc(18,"Mode"),r.Rb(),r.Sb(19,"th"),r.Gc(20,"Status"),r.Rb(),r.Sb(21,"th"),r.Gc(22,"Action"),r.Rb(),r.Rb(),r.Rb(),r.Sb(23,"tbody"),r.Ec(24,ie,29,24,"tr",8),r.hc(25,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(7),r.nc("ngModel",t.selectall),r.zb(17),r.nc("ngForOf",r.ic(25,3,t.Data$))("ngForTrackBy",t.getKey)}}function oe(t,e){1&t&&r.Nb(0,"app-norecord")}function ne(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,se,26,5,"div",0),r.hc(2,"async"),r.Ec(3,oe,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let ce=(()=>{class t{constructor(t,e,i){this.actions=t,this.coreActions=e,this.dataService=i,this.isActionGranded=!1,this.category_types=[],this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}processChange(){this.actions.selectAll(this.selectall)}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(k.a),r.Mb(f.a),r.Mb(j))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",category_types:"category_types"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"class",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],["data-toggle","tooltip","title","Add child category","data-original-title","Add",3,"routerLink"],[1,"fa","fa-plus","text-inverse","m-r-10"],["data-toggle","tooltip","title","Edit category","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"badge","badge-danger"],[1,"badge","badge-success"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,Bt,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,ne,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,n.a,n.n,n.q,s.m,c.e,_t.a],pipes:[s.b],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["categories","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["categories","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["categories","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["categories","selectall"])],t.prototype,"selectAll$",void 0),t})();function ae(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",2),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function re(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"div",4),r.Sb(3,"app-navigation-v2",5),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",6),r.Sb(5,"app-toolbar-v2",7),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",8),r.Sb(7,"app-list",9),r.ec("View",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SelectedItems",(function(e){return r.xc(t),r.gc().getSelectedItems(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("category_types",t.CategoryTypes)("isActionGranded",t.isActionGranded)}}let de=(()=>{class t{constructor(t,e,i,s,o,n,c){this.settingService=t,this.dataService=e,this.router=i,this.permission=s,this.coreService=o,this.coreActions=n,this.actions=c,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Categories",this.subheading="Management",this.isItemsSelected=!1,this.CategoryCaption="",this.Records=0,this.Pagination={},this.Configs={},this.CategoryTypes=[]}ngOnInit(){this.configs$.subscribe(t=>{if(this.Configs=t,void 0!==t.general)for(const e in t.general.category)this.CategoryTypes.push({id:t.general.category[e],title:e})}),this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{if(this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t)),void 0!==this.Configs.general)for(const e in this.Configs.general.category)this.Configs.general.category[e]===t.type&&(this.CategoryCaption=e,this.ToolbarOptions.left_options[0].title="["+e+"]")}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"f_adult":this.actions.applyFilter({attr:"isadult",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}AddRecord(){this.router.navigate(["/settings/categories/process/"])}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(w),r.Mb(j),r.Mb(c.c),r.Mb(at.a),r.Mb(b.a),r.Mb(f.a),r.Mb(k.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"category_types","isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Ec(1,ae,3,0,"div",1),r.Ec(2,re,8,6,"div",1),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,ce],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["categories","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["categories","categories"])],t.prototype,"categories$",void 0),Object(A.a)([Object(I.e)(["categories","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(A.a)([Object(I.e)(["categories","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["categories","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["categories","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();function le(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",1),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function be(t,e){1&t&&r.Nb(0,"app-loader")}function pe(t,e){if(1&t){const t=r.Tb();r.Sb(0,"dynamic-modal-form",11),r.ec("OnSubmit",(function(e){return r.xc(t),r.gc(2).SubmitForm(e)}))("OnDropdownSelection",(function(e){return r.xc(t),r.gc(2).OnDropdownSelection(e)}))("FileRemoved",(function(e){return r.xc(t),r.gc(2).FileRemoved(e)})),r.Rb()}if(2&t){const t=r.gc(2);r.nc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function he(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Nb(4,"app-navigation-v2",5),r.Rb(),r.Rb(),r.Sb(5,"div",6),r.Sb(6,"div",4),r.Sb(7,"div",7),r.Sb(8,"h4",8),r.Gc(9),r.Rb(),r.Rb(),r.Sb(10,"div",9),r.Ec(11,be,1,0,"app-loader",0),r.Ec(12,pe,1,5,"dynamic-modal-form",10),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc();r.zb(4),r.nc("Options",t.SearchOptions),r.zb(5),r.Hc(t.formHeading),r.zb(2),r.nc("ngIf",t.showLoader),r.zb(1),r.nc("ngIf",!t.showLoader)}}let ge=(()=>{class t{constructor(t,e,i,s,o,n,c,a,r){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=o,this.route=n,this.formService=c,this.permission=a,this.router=r,this.CategoryID=0,this.CategoryType=0,this.CategoryList=[],this.controls=[],this.showLoader=!1,this.formHeading="Add Category",this.submitText="Add Category",this.ParentAdd=!1,this.ParentID=0,this.IsLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.isloaded$.subscribe(t=>{this.IsLoaded=t,console.log("isload called"),this.IsLoaded||this.router.navigate(["/settings/categories/"])}),this.configs$.subscribe(t=>{this.Configs=t}),this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1539515099045","1539515144335",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1539515099045",t.Role)&&(this.isActionGranded=!0))}),this.route.params.subscribe(t=>{this.ParentID=Number.parseInt(t.parentid,10),isNaN(this.ParentID)&&(this.ParentID=0),this.CategoryID=Number.parseInt(t.id,10),isNaN(this.CategoryID)&&(this.CategoryID=0),this.CategoryID>0?(this.formHeading="Update Category",this.submitText="Update",this.LoadInfo(this.CategoryID,!1)):this.ParentID>0?this.LoadInfo(this.ParentID,!0):(this.initializeControls(this.settingService.getInitObject()),this.LoadDropdownCategories(this.CategoryType))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.dropdownCategories$.subscribe(t=>{this.CategoryList=t,this.CategoryList.length>0?this.LoadDropdownCategories(this.CategoryType):this.dataService.LoadDropdownCategories(this.CategoryType)})}LoadDropdownCategories(t){const e=[];for(const i of this.CategoryList)console.log(i.type),i.type==t&&e.push({value:i.title,key:i.id.toString()});e.unshift({value:"No Parent",key:"0"}),this.PoupulateParentCategories(e)}OnDropdownSelection(t){"type"===t.key&&this.LoadDropdownCategories(t.value)}PoupulateParentCategories(t){for(const e of this.controls)"parentid"===e.key&&(e.options=t,this.ParentID>0&&(e.value=this.ParentID.toString()))}FileRemoved(t){console.log(t)}LoadInfo(t,e){this.showLoader=!0,this.dataService.GetInfo(t).subscribe(t=>{if("success"===t.status){if(e){const e=this.settingService.getInitObject();e.type=t.post.type,e.parentid=t.post.parentid,e.priority=t.post.priority+1,e.isenabled=t.post.isenabled,this.initializeControls(e),this.LoadDropdownCategories(e.type)}else this.initializeControls(t.post),this.ParentID=t.post.parentid,this.LoadDropdownCategories(t.post.type);this.showLoader=!1}else this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}),this.initializeControls(this.settingService.getInitObject())})}initializeControls(t){this.controls=this.formService.getControls(t,this.Configs.general.media,this.Configs.general.category)}SubmitForm(t){if(null===t.priority&&(t.priority=0),!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});this.showLoader=!0;let e="Added";this.CategoryID>0&&(t.id=this.CategoryID,e="Updated"),this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(this.coreActions.Notify({title:"Record "+e+" Successfully",text:"",css:"bg-success"}),this.actions.reloadList(),this.router.navigate(["/settings/categories/"])),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(w),r.Mb(j),r.Mb(b.a),r.Mb(f.a),r.Mb(k.a),r.Mb(c.a),r.Mb(C),r.Mb(at.a),r.Mb(c.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved"]],template:function(t,e){1&t&&(r.Ec(0,le,3,0,"div",0),r.Ec(1,he,13,4,"div",0)),2&t&&(r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,ut.a,Ct.a],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["categories","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["categories","dropdown_categories"])],t.prototype,"dropdownCategories$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();function ue(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function fe(t,e){1&t&&r.Nb(0,"app-loader")}function Se(t,e){if(1&t){const t=r.Tb();r.Sb(0,"a",20),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=r.gc(2).$implicit;return r.gc(2).renderNav(o,s,i),!1})),r.Gc(1),r.Rb()}if(2&t){const t=e.$implicit;r.zb(1),r.Hc(t.title)}}function me(t,e){if(1&t&&(r.Sb(0,"div",18),r.Ec(1,Se,2,1,"a",19),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.nc("ngForOf",t.child_nav)}}function ve(t,e){if(1&t&&(r.Sb(0,"li",14),r.Sb(1,"a",15),r.Gc(2),r.Nb(3,"span",16),r.Rb(),r.Ec(4,me,2,1,"div",17),r.Rb()),2&t){const t=e.$implicit,i=r.gc(2);r.nc("ngClass",i.ConfigType===t.id?"nav-item dropdown active":"nav-item dropdown"),r.zb(2),r.Ic(" ",t.title," "),r.zb(2),r.nc("ngIf",t.child_nav.length>0)}}function Oe(t,e){1&t&&r.Nb(0,"app-loader")}function Re(t,e){if(1&t){const t=r.Tb();r.Sb(0,"dynamic-modal-form",27),r.ec("OnSubmit",(function(e){return r.xc(t),r.gc(3).SubmitForm(e)})),r.Rb()}if(2&t){const t=r.gc(3);r.nc("controls",t.controls)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function ye(t,e){if(1&t&&(r.Sb(0,"div",21),r.Sb(1,"div",22),r.Sb(2,"div",23),r.Sb(3,"div",24),r.Sb(4,"h4",25),r.Gc(5),r.Rb(),r.Rb(),r.Ec(6,Oe,1,0,"app-loader",3),r.Ec(7,Re,1,4,"dynamic-modal-form",26),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc(2);r.zb(5),r.Hc(t.formHeading),r.zb(1),r.nc("ngIf",t.showProcessing),r.zb(1),r.nc("ngIf",!t.showProcessing&&t.controls.length>0)}}function Ae(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,fe,1,0,"app-loader",3),r.hc(2,"async"),r.Sb(3,"div",5),r.Sb(4,"div",6),r.Sb(5,"nav",7),r.Sb(6,"button",8),r.Nb(7,"span",9),r.Rb(),r.Sb(8,"div",10),r.Sb(9,"ul",11),r.Ec(10,ve,5,3,"li",12),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ec(11,ye,8,3,"div",13),r.hc(12,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,3,t.loading$)),r.zb(9),r.nc("ngForOf",t.SearchOptions.navList),r.zb(1),r.nc("ngIf",!r.ic(12,5,t.loading$))}}let Ie=(()=>{class t{constructor(t,e,i,s,o,n,c,a){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.permission=o,this.actions=n,this.route=c,this.formService=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.navTabs=[],this.IsLoaded=!1,this.Configs=[],this.Configurations={},this.ConfigType=0,this.ChildConfigType=0,this.controls=[],this.showProcessing=!1,this.formHeading="",this.submitText="Save Changes",this.primay_prop="",this.child_prop=""}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.route.params.subscribe(t=>{this.ConfigType=Number.parseInt(t.type,10),isNaN(this.ConfigType)&&(this.ConfigType=0)}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.loadRecords()}),this.Configurations$.subscribe(t=>{this.Configurations=t,this.InitializeMainNavigation()})}loadRecords(){this.dataService.LoadRecords()}InitializeMainNavigation(){let t=[],e=0;for(const i in this.Configurations)t.push({id:e,title:i[0].toUpperCase()+i.slice(1),child_nav:[]}),e++;this.SearchOptions=this.settingService.getSearchOptions(t),this.attachSubNavItems()}attachSubNavItems(){for(const t of this.SearchOptions.navList)for(const e in this.Configurations)if(e===t.title.toLowerCase()){let i=0;for(const s in this.Configurations[e])t.child_nav.push({id:i,title:s[0].toUpperCase()+s.slice(1),parent_attr:e,child_attr:s}),i++}this.Initialize()}Initialize(){if(this.SearchOptions.navList.length>0){const t=this.SearchOptions.navList[0];t.child_nav.length>0&&this.renderForm(t.child_nav[0].parent_attr,t.child_nav[0].child_attr)}}renderNav(t,e,i){this.ConfigType=t.id,this.ChildConfigType=e.id,this.renderForm(e.parent_attr,e.child_attr),i.stopPropagation()}renderForm(t,e){this.formHeading=e[0].toUpperCase()+e.slice(1)+" Settings",this.primay_prop=t,this.child_prop=e,this.controls=this.formService.getControls(this.Configurations[t][e],t,e)}SubmitForm(t){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});let e=this.Configurations[this.primay_prop][this.child_prop];for(const i in e)for(const s in t)s===i&&(e[i]=t[s]);console.log(e),this.showProcessing=!0,this.dataService.UpdateConfigurations(e,this.primay_prop,this.child_prop).subscribe(t=>{this.coreActions.Notify("error"===t.status?{title:t.message,text:"",css:"bg-success"}:{title:"Settings Updated",text:"",css:"bg-success"}),this.showProcessing=!1},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"}),this.showProcessing=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(M.a),r.Mb($.a),r.Mb(b.a),r.Mb(f.a),r.Mb(at.a),r.Mb(L.a),r.Mb(c.a),r.Mb(_.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","m-b-10"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#configurationSettings","aria-controls","configurationSettings","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","configurationSettings",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row justify-content-md-center",4,"ngIf"],[3,"ngClass"],["data-toggle","dropdown","href","#",1,"nav-link","dropdown-toggle"],[1,"caret"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","href","#",3,"click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8","col-sm-10","col-xs-12"],[1,"card-body","card-outline-inverse"],[1,"card-header"],[1,"m-b-0"],[3,"controls","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,ue,3,0,"div",3),r.Ec(4,Ae,13,7,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,s.m,ut.a,s.l,Ct.a],pipes:[s.b],encapsulation:2}),Object(A.a)([Object(I.e)(["configurations","configurations"])],t.prototype,"Configurations$",void 0),Object(A.a)([Object(I.e)(["configurations","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["configurations","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var we=i("/4iV");let ke=(()=>{class t{constructor(t,e,i,s){this.activeModal=t,this.coreActions=e,this.service=i,this.dataService=s,this.ViewType=1,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.ViewType=this.Info.viewtype,this.controls=1===this.Info.viewtype?this.service.getRoleControls(this.Info.data):this.service.getObjectControls(this.Info.data),console.log(this.controls)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.activeModal.close({data:t,viewtype:this.Info.viewtype})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.a),r.Mb(f.a),r.Mb(J),r.Mb(U))},t.\u0275cmp=r.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.yb([J,U])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h4",1),r.Gc(2),r.Rb(),r.Sb(3,"button",2),r.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Sb(4,"span",3),r.Gc(5,"\xd7"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"dynamic-modal-form",4),r.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Rb()),2&t&&(r.zb(2),r.Hc(e.title),r.zb(4),r.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Ct.a],encapsulation:2}),t})();function je(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",1),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}const Ge=function(t){return{active:t}};function ze(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li",11),r.Sb(1,"a",12),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(2).filterCategories(s,i),!1})),r.Gc(2),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,i=r.gc(2);r.nc("ngClass",r.rc(3,Ge,i.RoleType==t.value)),r.zb(1),r.oc("title",t.title),r.zb(1),r.Ic(" ",t.title," ")}}function Ce(t,e){1&t&&r.Nb(0,"app-loader")}function xe(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",24),r.Sb(1,"td"),r.Sb(2,"h4"),r.Gc(3),r.Rb(),r.Rb(),r.Sb(4,"td",25),r.Sb(5,"a",26),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(5).editRole(s,i),!1})),r.Nb(6,"i",27),r.Rb(),r.Sb(7,"a",28),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(5).delete(s,o,i),!1})),r.Nb(8,"i",29),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("hidden",t.isdeleted),r.zb(3),r.Hc(t.rolename)}}function Me(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",19),r.Sb(2,"table",20),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th",21),r.Gc(6," Name "),r.Rb(),r.Sb(7,"th",22),r.Gc(8," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(9,"tbody"),r.Ec(10,xe,9,2,"tr",23),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc(4);r.zb(10),r.nc("ngForOf",t.RoleList)}}function $e(t,e){1&t&&r.Nb(0,"app-norecord")}function _e(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",16),r.Sb(2,"button",17),r.ec("click",(function(){return r.xc(t),r.gc(3).addRole()})),r.Nb(3,"i",18),r.Gc(4," Add Role "),r.Rb(),r.Rb(),r.Ec(5,Me,11,1,"div",0),r.Ec(6,$e,1,0,"app-norecord",0),r.Rb()}if(2&t){const t=r.gc(3);r.zb(5),r.nc("ngIf",t.RoleList.length>0),r.zb(1),r.nc("ngIf",0===t.RoleList.length)}}function Le(t,e){if(1&t&&(r.Sb(0,"div",4),r.Sb(1,"div",13),r.Sb(2,"h4",14),r.Gc(3),r.Rb(),r.Rb(),r.Sb(4,"div",15),r.Ec(5,Ce,1,0,"app-loader",0),r.Ec(6,_e,7,2,"div",0),r.Rb(),r.Rb()),2&t){const t=r.gc(2);r.zb(3),r.Hc(t.formHeading),r.zb(2),r.nc("ngIf",t.showLoader),r.zb(1),r.nc("ngIf",!t.showLoader)}}function Ne(t,e){1&t&&r.Nb(0,"app-loader")}function Fe(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",24),r.Sb(1,"td"),r.Sb(2,"h4"),r.Gc(3),r.Rb(),r.Nb(4,"div",30),r.Rb(),r.Sb(5,"td"),r.Gc(6),r.Rb(),r.Sb(7,"td",25),r.Sb(8,"a",26),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(5).editObject(s,i),!1})),r.Nb(9,"i",27),r.Rb(),r.Sb(10,"a",28),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(5).deleteObject(s,o,i),!1})),r.Nb(11,"i",29),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("hidden",t.isdeleted),r.zb(3),r.Hc(t.objectname),r.zb(1),r.nc("innerHTML",t.description,r.yc),r.zb(2),r.Ic(" ",t.uniqueid," ")}}function Pe(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",19),r.Sb(2,"table",20),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th",25),r.Gc(6," Name "),r.Rb(),r.Sb(7,"th",25),r.Gc(8," Key "),r.Rb(),r.Sb(9,"th",25),r.Gc(10," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(11,"tbody"),r.Ec(12,Fe,12,4,"tr",23),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc(4);r.zb(12),r.nc("ngForOf",t.ObjectList)}}function Te(t,e){1&t&&r.Nb(0,"app-norecord")}function De(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",16),r.Sb(2,"button",17),r.ec("click",(function(){return r.xc(t),r.gc(3).addObject()})),r.Nb(3,"i",18),r.Gc(4," Add Object "),r.Rb(),r.Rb(),r.Ec(5,Pe,13,1,"div",0),r.Ec(6,Te,1,0,"app-norecord",0),r.Rb()}if(2&t){const t=r.gc(3);r.zb(5),r.nc("ngIf",t.ObjectList.length>0),r.zb(1),r.nc("ngIf",0===t.ObjectList.length)}}function Ee(t,e){if(1&t&&(r.Sb(0,"div",4),r.Sb(1,"div",13),r.Sb(2,"h4",14),r.Gc(3),r.Rb(),r.Rb(),r.Sb(4,"div",15),r.Ec(5,Ne,1,0,"app-loader",0),r.Ec(6,De,7,2,"div",0),r.Rb(),r.Rb()),2&t){const t=r.gc(2);r.zb(3),r.Hc(t.formHeading),r.zb(2),r.nc("ngIf",t.showLoader),r.zb(1),r.nc("ngIf",!t.showLoader)}}function Ve(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Sb(4,"div",5),r.Sb(5,"ul",6),r.Ec(6,ze,3,5,"li",7),r.Rb(),r.Rb(),r.Rb(),r.Sb(7,"div",4),r.Nb(8,"app-navigation-v2",8),r.Rb(),r.Rb(),r.Sb(9,"div",9),r.Ec(10,Le,7,3,"div",10),r.Ec(11,Ee,7,3,"div",10),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc();r.zb(6),r.nc("ngForOf",t.RoleTypes),r.zb(2),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("ngIf",1==t.RoleType),r.zb(1),r.nc("ngIf",2==t.RoleType)}}let Ue=(()=>{class t{constructor(t,e,i,s,o,n,c,a,r,d){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=o,this.route=n,this.formService=c,this.permission=a,this.router=r,this.modalService=d,this.controls=[],this.showLoader=!1,this.formHeading="Manage Roles",this.RoleTypes=we.b.ROLE_TYPES,this.RoleList=[],this.ObjectList=[],this.RoleType=1,this.IsRoleLoaded=!1,this.isObjectLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.roles$.subscribe(t=>{this.RoleList=t}),this.objects$.subscribe(t=>{this.ObjectList=t}),this.isroleloaded$.subscribe(t=>{this.IsRoleLoaded=t,this.IsRoleLoaded||this.dataService.LoadRoles()}),this.isobjectloaded$.subscribe(t=>{this.isObjectLoaded=t,this.isObjectLoaded||this.dataService.LoadObjects()})}filterCategories(t,e){this.RoleType=t.value,console.log("obj value "+t.value),this.formHeading=1===this.RoleType?"Manage Roles":"Manage Role Objects",e.stopPropagation()}editObject(t,e){this.isActionGranded?(this._triggleModal(t,2,"Update Role Object"),e.stopPropagation()):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}editRole(t,e){this.router.navigate(["/settings/roles/process/"+t.id]),e.stopPropagation()}addRole(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObject(),1,"Add Role"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}addObject(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObjectObject(),2,"Add Role Object"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}_triggleModal(t,e,i){const s=this.modalService.open(ke,{backdrop:!1});s.componentInstance.Info={title:i,viewtype:e,data:t},s.result.then(t=>{if(console.log(t),1===t.viewtype)this.dataService.AddRole(t.data);else if(this.dataService.AddObject(t.data),t.data.id>0)for(const e of this.ObjectList)e.id===t.data.id&&(e.objectname=t.data.objectname,e.description=t.data.description)},t=>{console.log("dismissed")})}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_role,1):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}deleteObject(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_object,2):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(E),r.Mb(U),r.Mb(b.a),r.Mb(f.a),r.Mb(V.a),r.Mb(c.a),r.Mb(J),r.Mb(at.a),r.Mb(c.c),r.Mb(o.b))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"FilterOptions","Options"],[1,"col-md-9"],["class","card",4,"ngIf"],[1,"list-group-item",3,"ngClass"],["href","#",3,"title","click"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"m-b-10","m-t-10"],["type","button",1,"btn","btn-dark","m-r-5",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap",2,"width","90%"],[1,"text-nowrap",2,"width","10%"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"text-nowrap"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Ec(0,je,3,0,"div",0),r.Ec(1,Ve,12,5,"div",0)),2&t&&(r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,s.m,bt.a,s.l,ut.a,_t.a],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["roles","roles"])],t.prototype,"roles$",void 0),Object(A.a)([Object(I.e)(["roles","objects"])],t.prototype,"objects$",void 0),Object(A.a)([Object(I.e)(["roles","isroleloaded"])],t.prototype,"isroleloaded$",void 0),Object(A.a)([Object(I.e)(["roles","isobjectloaded"])],t.prototype,"isobjectloaded$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function Je(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",1),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function He(t,e){1&t&&r.Nb(0,"app-loader")}function Be(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr"),r.Sb(1,"td",12),r.Sb(2,"div",13),r.Sb(3,"input",21),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i})),r.Rb(),r.Nb(4,"label",22),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Gc(6),r.Rb(),r.Sb(7,"td",23),r.Gc(8),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,i=e.index;r.zb(3),r.oc("id",i),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",i),r.zb(2),r.Ic(" ",t.objectname," "),r.zb(2),r.Ic(" ",t.description," ")}}function Ke(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",10),r.Sb(2,"table",11),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th",12),r.Sb(6,"div",13),r.Sb(7,"input",14),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(3).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(3).processChange()})),r.Rb(),r.Nb(8,"label",15),r.Rb(),r.Rb(),r.Sb(9,"th",16),r.Gc(10," Permission "),r.Rb(),r.Sb(11,"th",17),r.Gc(12," Detail "),r.Rb(),r.Rb(),r.Rb(),r.Sb(13,"tbody"),r.Ec(14,Be,9,5,"tr",18),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"div",19),r.Sb(16,"button",20),r.ec("click",(function(){return r.xc(t),r.gc(3).updatePermission()})),r.Gc(17," Update Permission "),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(3);r.zb(7),r.nc("ngModel",t.selectall),r.zb(7),r.nc("ngForOf",t.ObjectList)}}function qe(t,e){1&t&&r.Nb(0,"app-norecord")}function Ye(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"h2"),r.Gc(2),r.Rb(),r.Nb(3,"hr"),r.Sb(4,"h3"),r.Gc(5,"Permission List"),r.Rb(),r.Ec(6,Ke,18,2,"div",0),r.Ec(7,qe,1,0,"app-norecord",0),r.Rb()),2&t){const t=r.gc(2);r.zb(2),r.Ic("Role: ",t.Info.rolename,""),r.zb(4),r.nc("ngIf",t.ObjectList.length>0),r.zb(1),r.nc("ngIf",0===t.ObjectList.length)}}function We(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Nb(4,"app-navigation-v2",5),r.Rb(),r.Rb(),r.Sb(5,"div",6),r.Sb(6,"div",4),r.Sb(7,"div",7),r.Sb(8,"h4",8),r.Gc(9),r.Rb(),r.Rb(),r.Sb(10,"div",9),r.Ec(11,He,1,0,"app-loader",0),r.Ec(12,Ye,8,3,"div",0),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc();r.zb(4),r.nc("Options",t.SearchOptions),r.zb(5),r.Hc(t.formHeading),r.zb(2),r.nc("ngIf",t.showLoader),r.zb(1),r.nc("ngIf",!t.showLoader&&t.Info)}}let Xe=(()=>{class t{constructor(t,e,i,s,o,n,c,a,r){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=o,this.route=n,this.permission=c,this.formService=a,this.router=r,this.RecordID=0,this.showLoader=!1,this.formHeading="Add Role",this.submitText="Add Role",this.ObjectList=[],this.selectall=!1,this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1539516299310","1539516260338",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1539516299310",t.Role)&&(this.isActionGranded=!0))}),this.isroleloaded$.subscribe(t=>{t||this.router.navigate(["/settings/roles/"])}),this.objects$.subscribe(t=>{this.ObjectList=t}),this.route.params.subscribe(t=>{this.RecordID=Number.parseInt(t.id,10),this.RecordID>0?(this.formHeading="Update Role Permissions",this.submitText="Update Role",this.LoadInfo()):this.router.navigate(["/settings/roles/"])}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{this.Info=t.posts,this.showLoader=!1;for(const e of this.ObjectList)e.Selected=!1;for(const e of this.ObjectList)for(const t of this.Info.permissions)t.objectid===e.id&&(e.Selected=!0)})}processChange(){for(const t of this.ObjectList)t.Selected=this.selectall}checkChange(){for(const t of this.ObjectList);}updatePermission(){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});const t=[];for(const e of this.ObjectList)e.Selected&&t.push({roleid:this.Info.id,objectid:e.id});console.log(t),this.showLoader=!0,this.dataService.UpdatePermission(t).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(this.coreActions.Notify({title:"Permission Updated Successfully",text:"",css:"bg-success"}),this.router.navigate(["/settings/roles/"])),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(E),r.Mb(U),r.Mb(b.a),r.Mb(f.a),r.Mb(V.a),r.Mb(c.a),r.Mb(at.a),r.Mb(J),r.Mb(c.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"width","5%"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap",2,"width","45%"],[1,"text-nowrap",2,"width","50%"],[4,"ngFor","ngForOf"],[1,"m-b-5","m-t-5"],[1,"btn","btn-primary",3,"click"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-nowrap"]],template:function(t,e){1&t&&(r.Ec(0,Je,3,0,"div",0),r.Ec(1,We,13,4,"div",0)),2&t&&(r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,ut.a,n.a,n.n,n.q,s.m,_t.a],encapsulation:2}),Object(A.a)([Object(I.e)(["roles","objects"])],t.prototype,"objects$",void 0),Object(A.a)([Object(I.e)(["roles","isroleloaded"])],t.prototype,"isroleloaded$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})(),Qe=(()=>{class t{getControls(t){const e=[];return e.push(new z.g({key:"value",label:"Value",value:t.value,required:!0,minLength:5,maxLength:40,order:1})),e.push(new z.b({key:"type",label:"Type",value:t.type.toString(),required:!0,options:[{key:"0",value:"Screening Worlds"},{key:"1",value:"Restricted Usernams"}],order:2})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ze=(()=>{class t{constructor(t,e,i,s){this.activeModal=t,this.service=e,this.dataService=i,this.coreActions=s,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data),console.log(this.controls)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(this.showLoader=!0,this.dataService.AddRecord(t).subscribe(t=>{this.showLoader=!1,"success"===t.status?(this.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),this.activeModal.close({data:t.record})):this.coreActions.Notify({title:t.message,text:"",css:"bg-danger"})},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.a),r.Mb(Qe),r.Mb(T),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.yb([Qe,T])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h4",1),r.Gc(2),r.Rb(),r.Sb(3,"button",2),r.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Sb(4,"span",3),r.Gc(5,"\xd7"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"dynamic-modal-form",4),r.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Rb()),2&t&&(r.zb(2),r.Hc(e.title),r.zb(4),r.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[Ct.a],encapsulation:2}),t})();function ti(t,e){1&t&&r.Nb(0,"app-loader")}function ei(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",23),r.Sb(2,"div",24),r.Sb(3,"div"),r.Sb(4,"input",25),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc().$implicit.value=e})),r.Rb(),r.Rb(),r.Sb(5,"div",26),r.Sb(6,"button",27),r.ec("click",(function(){r.xc(t);const e=r.gc().$implicit;return r.gc(3)._UpdateRecord(e)})),r.Gc(7," Save "),r.Rb(),r.Sb(8,"button",28),r.ec("click",(function(e){r.xc(t);const i=r.gc().$implicit;return r.gc(3).toggleEditView(i,e)})),r.Gc(9," Cancel "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc().$implicit;r.zb(4),r.nc("ngModel",t.value)}}function ii(t,e){if(1&t&&(r.Sb(0,"div"),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Ic(" ",t.value," ")}}function si(t,e){1&t&&(r.Sb(0,"span",29),r.Gc(1,"Screening Word"),r.Rb())}function oi(t,e){1&t&&(r.Sb(0,"span",30),r.Gc(1,"Restricted UserName"),r.Rb())}function ni(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",13),r.Sb(1,"td",14),r.Sb(2,"div",5),r.Sb(3,"input",15),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.xc(t),r.gc(3).checkChange()})),r.Rb(),r.Nb(4,"label",16),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Ec(6,ei,10,1,"div",0),r.Ec(7,ii,2,1,"div",0),r.Rb(),r.Sb(8,"td"),r.Ec(9,si,2,0,"span",17),r.Ec(10,oi,2,0,"span",18),r.Rb(),r.Sb(11,"td",11),r.Sb(12,"a",19),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(3).toggleEditView(s,i),!1})),r.Nb(13,"i",20),r.Rb(),r.Sb(14,"a",21),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(3).delete(s,o,i),!1})),r.Nb(15,"i",22),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(3),r.oc("id",t.id),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",t.id),r.zb(2),r.nc("ngIf",t.editview),r.zb(1),r.nc("ngIf",!t.editview),r.zb(2),r.nc("ngIf",0==t.type),r.zb(1),r.nc("ngIf",1==t.type)}}function ci(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th"),r.Sb(6,"div",5),r.Sb(7,"input",6),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(2).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(2).processChange()})),r.Rb(),r.Nb(8,"label",7),r.Rb(),r.Rb(),r.Sb(9,"th",8),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("value")})),r.Sb(10,"span",9),r.Gc(11,"Value"),r.Rb(),r.Nb(12,"i",10),r.Rb(),r.Sb(13,"th",8),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("type")})),r.Sb(14,"span",9),r.Gc(15,"Type"),r.Rb(),r.Nb(16,"i",10),r.Rb(),r.Sb(17,"th",11),r.Gc(18," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(19,"tbody"),r.Ec(20,ni,16,9,"tr",12),r.hc(21,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(7),r.nc("ngModel",t.selectall),r.zb(2),r.nc("ngClass",t.fieldstates.value?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.value&&"asc"===t.sortedFields.value.direction?"fa fa-sort-asc":t.fieldstates.value&&"desc"===t.sortedFields.value.direction?"fa fa-sort-desc":"fa fa-sort"),r.zb(1),r.nc("ngClass",t.fieldstates.type?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.type&&"asc"===t.sortedFields.type.direction?"fa fa-sort-asc":t.fieldstates.type&&"desc"===t.sortedFields.type.direction?"fa fa-sort-desc":"fa fa-sort"),r.zb(4),r.nc("ngForOf",r.ic(21,7,t.Data$))("ngForTrackBy",t.getKey)}}function ai(t,e){1&t&&r.Nb(0,"app-norecord")}function ri(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,ci,22,9,"div",0),r.hc(2,"async"),r.Ec(3,ai,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let di=(()=>{class t{constructor(t,e,i){this.actions=t,this.coreActions=e,this.dataService=i,this.isActionGranded=!1,this.View=new r.n,this.SelectedItems=new r.n,this.sortedFields={value:{sort:"value",direction:"desc"},type:{sort:"type",direction:"desc"}},this.selectall=!1,this.fieldstates={value:!1,type:!1}}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}Sort(t){void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc";for(const e in this.fieldstates)this.fieldstates[e]=e===t;this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}processChange(){this.actions.selectAll(this.selectall)}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(P.a),r.Mb(f.a),r.Mb(T))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Value",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"badge","badge-danger"],[1,"badge","badge-warning"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,ti,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,ri,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,n.a,n.n,n.q,s.l,s.m,n.c,_t.a],pipes:[s.b],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["dictionary","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["dictionary","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["dictionary","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["dictionary","selectall"])],t.prototype,"selectAll$",void 0),t})();function li(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function bi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",5),r.Sb(3,"app-navigation-v2",6),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",7),r.Sb(5,"app-toolbar-v2",8),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",9),r.Sb(7,"app-list",10),r.ec("View",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SelectedItems",(function(e){return r.xc(t),r.gc().getSelectedItems(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("isActionGranded",t.isActionGranded)}}let pi=(()=>{class t{constructor(t,e,i,s,o,n,c){this.settingService=t,this.dataService=e,this.modalService=i,this.coreService=s,this.coreActions=o,this.permission=n,this.actions=c,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Dictionary",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}AddRecord(){const t=this.modalService.open(Ze,{backdrop:!1});t.componentInstance.Info={title:"Add new Value",data:this.settingService.getInitObject()},t.result.then(t=>{console.log("back result"),console.log(t),this.actions.addRecord(t.data)},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(F),r.Mb(T),r.Mb(o.b),r.Mb(b.a),r.Mb(f.a),r.Mb(at.a),r.Mb(P.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,li,3,0,"div",3),r.Ec(4,bi,8,5,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,di],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["dictionary","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["dictionary","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(A.a)([Object(I.e)(["dictionary","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["dictionary","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["dictionary","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function hi(t,e){1&t&&r.Nb(0,"app-loader")}function gi(t,e){1&t&&(r.Sb(0,"span"),r.Gc(1,"On"),r.Rb())}function ui(t,e){1&t&&(r.Sb(0,"span"),r.Gc(1,"Off"),r.Rb())}function fi(t,e){1&t&&(r.Sb(0,"span"),r.Gc(1,"On"),r.Rb())}function Si(t,e){1&t&&(r.Sb(0,"span"),r.Gc(1,"Off"),r.Rb())}function mi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",10),r.Sb(1,"td"),r.Gc(2),r.Rb(),r.Sb(3,"td"),r.Gc(4),r.Rb(),r.Sb(5,"td"),r.Sb(6,"button",11),r.ec("click",(function(){r.xc(t);const i=e.$implicit;return r.gc(3).triggleAction(i,"default")})),r.Ec(7,gi,2,0,"span",0),r.Ec(8,ui,2,0,"span",0),r.Rb(),r.Rb(),r.Sb(9,"td"),r.Sb(10,"button",11),r.ec("click",(function(){r.xc(t);const i=e.$implicit;return r.gc(3).triggleAction(i,"selected")})),r.Ec(11,fi,2,0,"span",0),r.Ec(12,Si,2,0,"span",0),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(2),r.Ic(" ",t.culturename," "),r.zb(2),r.Ic(" ",t.region," "),r.zb(2),r.nc("ngClass",1===t.isdefault?"btn-success":"btn-danger"),r.zb(1),r.nc("ngIf",1===t.isdefault),r.zb(1),r.nc("ngIf",0===t.isdefault),r.zb(2),r.nc("ngClass",1===t.isselected?"btn-success":"btn-danger"),r.zb(1),r.nc("ngIf",1===t.isselected),r.zb(1),r.nc("ngIf",0===t.isselected)}}function vi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th",5),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("culturename")})),r.Sb(6,"span",6),r.Gc(7,"Culture"),r.Rb(),r.Nb(8,"i",7),r.Rb(),r.Sb(9,"th",5),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("region")})),r.Sb(10,"span",6),r.Gc(11,"Region"),r.Rb(),r.Nb(12,"i",7),r.Rb(),r.Sb(13,"th",8),r.Gc(14," Default "),r.Rb(),r.Sb(15,"th",8),r.Gc(16," Selected "),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"tbody"),r.Ec(18,mi,13,10,"tr",9),r.hc(19,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(5),r.nc("ngClass",t.fieldstates.culturename?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.culturename&&"asc"===t.sortedFields.culturename.direction?"fa fa-sort-asc":t.fieldstates.culturename&&"desc"===t.sortedFields.culturename.direction?"fa fa-sort-desc":"fa fa-sort"),r.zb(1),r.nc("ngClass",t.fieldstates.region?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.region&&"asc"===t.sortedFields.region.direction?"fa fa-sort-asc":"fa fa-sort"),r.zb(6),r.nc("ngForOf",r.ic(19,6,t.Data$))("ngForTrackBy",t.getKey)}}function Oi(t,e){1&t&&r.Nb(0,"app-norecord")}function Ri(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,vi,20,8,"div",0),r.hc(2,"async"),r.Ec(3,Oi,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let yi=(()=>{class t{constructor(t,e,i){this.actions=t,this.coreActions=e,this.dataService=i,this.isActionGranded=!1,this.View=new r.n,this.SelectedItems=new r.n,this.sortedFields={culturename:{sort:"culturename",direction:"desc"},region:{sort:"region",direction:"desc"}},this.selectall=!1,this.fieldstates={culturename:!1,region:!1}}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t})}Sort(t){void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc";for(const e in this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}triggleAction(t,e){this.View.emit({action:e,value:t})}getKey(t,e){return e.id}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(K.a),r.Mb(f.a),r.Mb(q))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[1,"btn",3,"ngClass","click"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,hi,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,Ri,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,s.l,s.m,_t.a],pipes:[s.b],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["language","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["language","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["language","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["language","selectall"])],t.prototype,"selectAll$",void 0),t})();function Ai(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function Ii(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",5),r.Sb(3,"app-navigation-v2",6),r.ec("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",7),r.Nb(5,"app-toolbar-v2",8),r.Sb(6,"div",9),r.Sb(7,"app-list",10),r.ec("View",(function(e){return r.xc(t),r.gc().ProcessActions(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("isActionGranded",t.isActionGranded)}}let wi=(()=>{class t{constructor(t,e,i,s,o){this.settingService=t,this.dataService=e,this.coreActions=i,this.permission=s,this.actions=o,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}ProcessActions(t){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});t.value.actionstatus=t.action;const e=[];e.push(t.value),this.dataService.ProcessActions(e,t)}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(B),r.Mb(q),r.Mb(f.a),r.Mb(at.a),r.Mb(K.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,Ai,3,0,"div",3),r.Ec(4,Ii,8,5,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,yi],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["language","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["language","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["language","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["language","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function ki(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",6),r.Sb(1,"button",7),r.ec("click",(function(){return r.xc(t),r.gc().close()})),r.Nb(2,"i",8),r.Gc(3," Cancel "),r.Rb(),r.Rb()}}let ji=(()=>{class t{constructor(t,e){this.activeModal=t,this.dataService=e,this.showLoader=!1}ngOnInit(){this.title=this.Info.title,console.log(this.Info)}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.a),r.Mb(Q))},t.\u0275cmp=r.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.yb([Q])],decls:17,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"icon-cross"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h4",1),r.Gc(2),r.Rb(),r.Sb(3,"button",2),r.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Sb(4,"span",3),r.Gc(5,"\xd7"),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",4),r.Sb(7,"h4"),r.Gc(8),r.Rb(),r.Sb(9,"p"),r.Gc(10),r.Rb(),r.Sb(11,"p"),r.Gc(12),r.hc(13,"date"),r.Rb(),r.Sb(14,"p"),r.Gc(15),r.Rb(),r.Rb(),r.Ec(16,ki,4,0,"div",5)),2&t&&(r.zb(2),r.Hc(e.title),r.zb(6),r.Hc(e.Info.data.description),r.zb(2),r.Ic("URL: ",e.Info.data.url,""),r.zb(2),r.Hc(r.jc(13,6,e.Info.data.created_at,"fullDate")),r.zb(3),r.Hc(e.Info.data.stack_trace),r.zb(1),r.nc("ngIf",!e.showLoader))},directives:[s.n],pipes:[s.e],encapsulation:2}),t})();function Gi(t,e){1&t&&r.Nb(0,"app-loader")}function zi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",13),r.Sb(1,"td",14),r.Sb(2,"div",5),r.Sb(3,"input",15),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.xc(t),r.gc(3).checkChange()})),r.Rb(),r.Nb(4,"label",16),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Nb(6,"div",17),r.Rb(),r.Sb(7,"td"),r.Sb(8,"span",18),r.Nb(9,"i",19),r.Rb(),r.Gc(10),r.hc(11,"date"),r.Rb(),r.Sb(12,"td",11),r.Sb(13,"a",20),r.ec("click",(function(i){r.xc(t);const s=e.$implicit;return r.gc(3).viewRecord(s,i),!1})),r.Nb(14,"i",21),r.Rb(),r.Sb(15,"a",22),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(3).delete(s,o,i),!1})),r.Nb(16,"i",23),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(3),r.oc("id",t.id),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",t.id),r.zb(2),r.nc("innerHTML",t.description,r.yc),r.zb(4),r.Ic(" ",r.jc(11,7,t.created_at,"fullDate")," ")}}function Ci(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th"),r.Sb(6,"div",5),r.Sb(7,"input",6),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(2).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(2).processChange()})),r.Rb(),r.Nb(8,"label",7),r.Rb(),r.Rb(),r.Sb(9,"th",8),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("ipaddress")})),r.Sb(10,"span",9),r.Gc(11,"Description"),r.Rb(),r.Nb(12,"i",10),r.Rb(),r.Sb(13,"th",8),r.ec("click",(function(){return r.xc(t),r.gc(2).Sort("created_at")})),r.Sb(14,"span",9),r.Gc(15,"Date"),r.Rb(),r.Nb(16,"i",10),r.Rb(),r.Sb(17,"th",11),r.Gc(18," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(19,"tbody"),r.Ec(20,zi,17,10,"tr",12),r.hc(21,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(7),r.nc("ngModel",t.selectall),r.zb(2),r.nc("ngClass",t.fieldstates.description?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.description&&"asc"===t.sortedFields.description.direction?"fa fa-sort-asc":t.fieldstates.description&&"desc"===t.sortedFields.description.direction?"fa fa-sort-desc":"fa fa-sort"),r.zb(1),r.nc("ngClass",t.fieldstates.created_at?"selected-sort-option":""),r.zb(3),r.nc("ngClass",t.fieldstates.created_at&&"asc"===t.sortedFields.created_at.direction?"fa fa-sort-asc":"fa fa-sort"),r.zb(4),r.nc("ngForOf",r.ic(21,7,t.Data$))("ngForTrackBy",t.getKey)}}function xi(t,e){1&t&&r.Nb(0,"app-norecord")}function Mi(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,Ci,22,9,"div",0),r.hc(2,"async"),r.Ec(3,xi,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let $i=(()=>{class t{constructor(t,e,i){this.actions=t,this.coreActions=e,this.dataService=i,this.isActionGranded=!1,this.View=new r.n,this.SelectedItems=new r.n,this.sortedFields={description:{sort:"description",direction:"desc"},created_at:{sort:"created_at",direction:"desc"}},this.selectall=!1,this.fieldstates={description:!1,created_at:!1}}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}Sort(t){void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc";for(const e in this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}processChange(){this.actions.selectAll(this.selectall)}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(X.a),r.Mb(f.a),r.Mb(Q))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","View",3,"click"],[1,"fa","fa-eye","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,Gi,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,Mi,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,n.a,n.n,n.q,s.l,s.m,_t.a],pipes:[s.b,s.e],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["log","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["log","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["log","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["log","selectall"])],t.prototype,"selectAll$",void 0),t})();function _i(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",4),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function Li(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",5),r.Sb(3,"app-navigation-v2",6),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",7),r.Sb(5,"app-toolbar-v2",8),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",9),r.Sb(7,"app-list",10),r.ec("SelectedItems",(function(e){return r.xc(t),r.gc().getSelectedItems(e)}))("View",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("isActionGranded",t.isActionGranded)}}let Ni=(()=>{class t{constructor(t,e,i,s,o,n,c){this.settingService=t,this.dataService=e,this.modalService=i,this.coreService=s,this.permission=o,this.coreActions=n,this.actions=c,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Log",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"view":return console.log(t.value),void this.ViewRecord(t.value);case"deleteall":return void this.DeleteAll();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}DeleteAll(){this.dataService.DeleteAllRecords()}ViewRecord(t){console.log("view record triggered");const e=this.modalService.open(ji,{backdrop:!1});e.componentInstance.Info={title:"View Log Detail",data:t},e.result.then(t=>{},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W),r.Mb(Q),r.Mb(o.b),r.Mb(b.a),r.Mb(at.a),r.Mb(f.a),r.Mb(X.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Ec(3,_i,3,0,"div",3),r.Ec(4,Li,8,5,"div",3),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,$i],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["log","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["log","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(A.a)([Object(I.e)(["log","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["log","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["log","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function Fi(t,e){1&t&&r.Nb(0,"app-loader")}function Pi(t,e){if(1&t&&(r.Sb(0,"span",21),r.Gc(1),r.Rb()),2&t){const t=r.gc().$implicit;r.zb(1),r.Hc(t.title)}}function Ti(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,Pi,2,1,"span",20),r.Rb()),2&t){const t=e.$implicit,i=r.gc().$implicit;r.zb(1),r.nc("ngIf",i.type===t.id)}}const Di=function(t){return[t]};function Ei(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",10),r.Sb(1,"td",11),r.Sb(2,"div",5),r.Sb(3,"input",12),r.ec("ngModelChange",(function(i){return r.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.xc(t),r.gc(3).checkChange()})),r.Rb(),r.Nb(4,"label",13),r.Rb(),r.Rb(),r.Sb(5,"td"),r.Gc(6),r.Rb(),r.Sb(7,"td"),r.Nb(8,"div",14),r.Rb(),r.Sb(9,"td"),r.Ec(10,Ti,2,1,"div",15),r.Rb(),r.Sb(11,"td",8),r.Sb(12,"a",16),r.Nb(13,"i",17),r.Rb(),r.Sb(14,"a",18),r.ec("click",(function(i){r.xc(t);const s=e.$implicit,o=e.index;return r.gc(3).delete(s,o,i),!1})),r.Nb(15,"i",19),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,i=r.gc(3);r.nc("@fadeIn",void 0)("hidden",t.isdeleted),r.zb(3),r.oc("id",t.id),r.nc("ngModel",t.Selected),r.zb(1),r.oc("for",t.id),r.zb(2),r.Ic(" ",t.templatekey," "),r.zb(2),r.nc("innerHTML",t.description,r.yc),r.zb(2),r.nc("ngForOf",i.MailTypes),r.zb(2),r.nc("routerLink",r.rc(9,Di,"/settings/mailtemplates/process/"+t.id))}}function Vi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"table",4),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th"),r.Sb(6,"div",5),r.Sb(7,"input",6),r.ec("ngModelChange",(function(e){return r.xc(t),r.gc(2).selectall=e}))("ngModelChange",(function(){return r.xc(t),r.gc(2).processChange()})),r.Rb(),r.Nb(8,"label",7),r.Rb(),r.Rb(),r.Sb(9,"th"),r.Gc(10," Template Key "),r.Rb(),r.Sb(11,"th"),r.Gc(12," Description "),r.Rb(),r.Sb(13,"th"),r.Gc(14," Status "),r.Rb(),r.Sb(15,"th",8),r.Gc(16," Action "),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"tbody"),r.Ec(18,Ei,16,11,"tr",9),r.hc(19,"async"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc(2);r.zb(7),r.nc("ngModel",t.selectall),r.zb(11),r.nc("ngForOf",r.ic(19,3,t.Data$))("ngForTrackBy",t.getKey)}}function Ui(t,e){1&t&&r.Nb(0,"app-norecord")}function Ji(t,e){if(1&t&&(r.Sb(0,"div"),r.Ec(1,Vi,20,5,"div",0),r.hc(2,"async"),r.Ec(3,Ui,1,0,"app-norecord",0),r.hc(4,"async"),r.Rb()),2&t){const t=r.gc();r.zb(1),r.nc("ngIf",r.ic(2,2,t.Data$).length>0),r.zb(2),r.nc("ngIf",0===r.ic(4,4,t.Data$).length)}}let Hi=(()=>{class t{constructor(t,e,i){this.actions=t,this.coreActions=e,this.dataService=i,this.isActionGranded=!1,this.MailTypes=[],this.SelectedItems=new r.n,this.selectall=!1,this.fieldstates={templatekey:!1,description:!1,type:!1}}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}getKey(t,e){return e.id}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}edit(t,e){console.log("edit clicked")}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}processChange(){this.actions.selectAll(this.selectall)}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(et.a),r.Mb(f.a),r.Mb(it))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",MailTypes:"MailTypes"},outputs:{SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Nb(0,"alert"),r.Ec(1,Fi,1,0,"app-loader",0),r.hc(2,"async"),r.Ec(3,Ji,5,6,"div",0),r.hc(4,"async"),r.Sb(5,"div",1),r.Sb(6,"pagination",2),r.ec("OnSelection",(function(t){return e.PaginationChange(t)})),r.hc(7,"async"),r.hc(8,"async"),r.hc(9,"async"),r.Rb(),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",r.ic(2,5,e.loading$)),r.zb(2),r.nc("ngIf",!r.ic(4,7,e.loading$)),r.zb(3),r.nc("currentPage",r.ic(7,9,e.pagination$).currentPage)("totalRecords",r.ic(8,11,e.pagination$).totalRecords)("pageSize",r.ic(9,13,e.pagination$).pageSize))},directives:[ht.a,s.n,gt.a,ut.a,n.a,n.n,n.q,s.m,c.e,_t.a],pipes:[s.b],encapsulation:2,data:{animation:[Object($t.k)("fadeIn",[Object($t.j)(":enter",[Object($t.i)({opacity:"0",background:"#f5fb98"}),Object($t.e)("300ms ease-out",Object($t.f)([Object($t.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object($t.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object($t.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(A.a)([Object(I.e)(["mailtemplates","posts"])],t.prototype,"Data$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","loading"])],t.prototype,"loading$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","selectall"])],t.prototype,"selectAll$",void 0),t})();function Bi(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",2),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function Ki(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",3),r.Sb(2,"div",4),r.Sb(3,"app-navigation-v2",5),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)}))("SearchSelection",(function(e){return r.xc(t),r.gc().FindRecords(e)})),r.Rb(),r.Rb(),r.Sb(4,"div",6),r.Sb(5,"app-toolbar-v2",7),r.ec("Action",(function(e){return r.xc(t),r.gc().toolbaraction(e)})),r.Rb(),r.Sb(6,"div",8),r.Sb(7,"app-list",9),r.ec("SelectedItems",(function(e){return r.xc(t),r.gc().getSelectedItems(e)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.gc();r.zb(3),r.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.zb(2),r.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.zb(2),r.nc("MailTypes",t.MailTypes)("isActionGranded",t.isActionGranded)}}let qi=(()=>{class t{constructor(t,e,i,s,o,n,c,a){this.settingService=t,this.dataService=e,this.modalService=i,this.coreService=s,this.coreActions=o,this.permission=n,this.actions=c,this.router=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.MailTypes=[]}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396255768",t.Role)&&(this.isActionGranded=!0))}),this.configs$.subscribe(t=>{if(this.Configs=t,void 0!==t.general)for(const e in t.general.mailtemplates)this.MailTypes.push({id:t.general.mailtemplates[e],title:e})}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.SearchOptions.actions=this.settingService.initialize_actions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{if(this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t)),void 0!==this.Configs.general)for(const e in this.Configs.general.mailtemplates)"-1"===t.type.toString()?this.ToolbarOptions.left_options[0].title="[All]":this.Configs.general.mailtemplates[e]===t.type&&(this.ToolbarOptions.left_options[1].title="["+e+"]")}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){switch(t.action){case"add":return void this.AddRecord();case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"m_markas":return void this.ProcessActions(t.value);case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}AddRecord(){this.router.navigate(["/settings/mailtemplates/process/"])}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(e.isdeleted=!0);this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tt),r.Mb(it),r.Mb(o.b),r.Mb(b.a),r.Mb(f.a),r.Mb(at.a),r.Mb(et.a),r.Mb(c.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"MailTypes","isActionGranded","SelectedItems"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Ec(1,Bi,3,0,"div",1),r.Ec(2,Ki,8,6,"div",1),r.Rb()),2&t&&(r.zb(1),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,pt.a,Hi],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["mailtemplates","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","isloaded"])],t.prototype,"isloaded$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","records"])],t.prototype,"records$",void 0),Object(A.a)([Object(I.e)(["mailtemplates","pagination"])],t.prototype,"pagination$",void 0),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();function Yi(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",1),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function Wi(t,e){1&t&&r.Nb(0,"app-loader")}function Xi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"dynamic-modal-form",11),r.ec("OnSubmit",(function(e){return r.xc(t),r.gc(2).SubmitForm(e)})),r.Rb()}if(2&t){const t=r.gc(2);r.nc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function Qi(t,e){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Nb(4,"app-navigation-v2",5),r.Rb(),r.Rb(),r.Sb(5,"div",6),r.Sb(6,"div",4),r.Sb(7,"div",7),r.Sb(8,"h4",8),r.Gc(9),r.Rb(),r.Rb(),r.Sb(10,"div",9),r.Ec(11,Wi,1,0,"app-loader",0),r.Ec(12,Xi,1,5,"dynamic-modal-form",10),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.gc();r.zb(4),r.nc("Options",t.SearchOptions),r.zb(5),r.Hc(t.formHeading),r.zb(2),r.nc("ngIf",t.showLoader),r.zb(1),r.nc("ngIf",!t.showLoader)}}let Zi=(()=>{class t{constructor(t,e,i,s,o,n,c,a,r){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=o,this.route=n,this.formService=c,this.permission=a,this.router=r,this.MailTemplateID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Mail Tempalte",this.submitText="Add Template",this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1539516196296","1539516133459",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1539516196296",t.Role)&&(this.isActionGranded=!0))}),this.configs$.subscribe(t=>{this.Configs=t}),this.route.params.subscribe(t=>{this.MailTemplateID=Number.parseInt(t.id,10),this.MailTemplateID>0?(this.formHeading="Update Mail Template",this.submitText="Update Template",this.LoadInfo()):this.initializeControls(this.settingService.getInitObject())}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.MailTemplateID).subscribe(t=>{this.initializeControls(t.posts),this.showLoader=!1})}initializeControls(t){this.controls=this.formService.getControls(t,this.Configs.general.mailtemplates)}SubmitForm(t){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});this.showLoader=!0;let e="Added";this.MailTemplateID>0&&(t.id=this.MailTemplateID,e="Updated"),this.dataService.AddRecord(t).subscribe(t=>{console.log("returned data is "),console.log(t),"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(this.coreActions.Notify({title:"Record "+e+" Successfully",text:"",css:"bg-success"}),this.actions.reloadList(),this.router.navigate(["/settings/mailtemplates/"])),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tt),r.Mb(it),r.Mb(b.a),r.Mb(f.a),r.Mb(et.a),r.Mb(c.a),r.Mb(ot),r.Mb(at.a),r.Mb(c.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Lc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(r.Ec(0,Yi,3,0,"div",0),r.Ec(1,Qi,13,4,"div",0)),2&t&&(r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted))},directives:[s.n,bt.a,ut.a,Ct.a],encapsulation:2,data:{animation:[Mt.a]}}),Object(A.a)([Object(I.e)(["users","auth"])],t.prototype,"auth$",void 0),Object(A.a)([Object(I.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t})();const ts=[{path:"",component:ct,data:{title:"Settings Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Management"}]},children:[{path:"",component:lt},{path:"blockip",children:[{path:"",component:Ht}],data:{title:"BlockIP Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Block IP",url:"/settings/blockip"},{title:"Management"}]}},{path:"categories",children:[{path:"",component:de},{path:"process/:id",component:ge},{path:"process/add/:parentid",component:ge},{path:"process",component:ge}],data:{title:"Categories Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Categories",url:"/settings/categories"},{title:"Management"}]}},{path:"configurations",children:[{path:"",component:Ie},{path:"filter/:type",component:Ie}],data:{title:"Configuration Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Configurations",url:"/settings/configurations"},{title:"Management"}]}},{path:"dictionary",children:[{path:"",component:pi}],data:{title:"Dictionary Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Dictionary",url:"/settings/dictionary"},{title:"Management"}]}},{path:"roles",children:[{path:"",component:Ue},{path:"process/:id",component:Xe}],data:{title:"Roles Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Roles",url:"/settings/roles"},{title:"Management"}]}},{path:"language",children:[{path:"",component:wi}],data:{title:"Language Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Language",url:"/settings/language"},{title:"Management"}]}},{path:"log",children:[{path:"",component:Ni}],data:{title:"Log Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Log",url:"/settings/log"},{title:"Management"}]}},{path:"mailtemplates",children:[{path:"",component:qi},{path:"process/:id",component:Zi},{path:"process",component:Zi}],data:{title:"Mailtemplates Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Mail Templates",url:"/settings/mailtemplates"},{title:"Management"}]}},{path:"advertisements",data:{title:"Advertisement Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Advertisement",url:"/settings/advertisements"},{title:"Management"}]},children:[{path:"",component:Gt}]}]}];let es=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(ts)],c.f]}),t})(),is=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[E,U,J,V.a],imports:[[s.c,a.a,n.i]]}),t})();i.d(e,"SettingsModule",(function(){return ss}));let ss=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[s.c,o.c,d,m,y,G,N,D,Y,Z,st,es,H,nt,x,is]]}),t})()}}]);